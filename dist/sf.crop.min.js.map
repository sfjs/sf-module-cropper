{"version":3,"sources":["webpack:///webpack/universalModuleDefinition?5ca6","webpack:///sf.crop.min.js","webpack:///webpack/bootstrap 1a1eab7cecfd1b15b034?2799","webpack:///./src/index.js?9552","webpack:///external \"sf\"?eecf","webpack:///./src/crop.js?d960","webpack:///./~/babel-runtime/core-js/object/assign.js?e6ca","webpack:///./~/core-js/library/fn/object/assign.js?80e4","webpack:///./~/core-js/library/modules/es6.object.assign.js?9007","webpack:///./~/core-js/library/modules/$.export.js?b734","webpack:///./~/core-js/library/modules/$.global.js?4deb","webpack:///./~/core-js/library/modules/$.core.js?7680","webpack:///./~/core-js/library/modules/$.ctx.js?e797","webpack:///./~/core-js/library/modules/$.a-function.js?860b","webpack:///./~/core-js/library/modules/$.object-assign.js?ed5a","webpack:///./~/babel-runtime/core-js/object/keys.js?fe06","webpack:///./~/core-js/library/fn/object/keys.js?cc3f","webpack:///./~/core-js/library/modules/es6.object.keys.js?c98f","webpack:///./~/core-js/library/modules/$.to-object.js?093c","webpack:///./~/core-js/library/modules/$.defined.js?7087","webpack:///./~/core-js/library/modules/$.object-sap.js?f39d","webpack:///./~/core-js/library/modules/$.fails.js?6c29","webpack:///./~/babel-runtime/core-js/symbol.js?a70d","webpack:///./~/core-js/library/fn/symbol/index.js?f07a","webpack:///./~/core-js/library/modules/es6.symbol.js?670a","webpack:///./~/babel-runtime/helpers/typeof.js?f4bd","webpack:///./~/core-js/library/modules/$.js?6ce7","webpack:///./~/core-js/library/modules/$.has.js?bcec","webpack:///./~/core-js/library/modules/$.descriptors.js?8327","webpack:///./~/core-js/library/modules/$.redefine.js?2643","webpack:///./~/core-js/library/modules/$.hide.js?2cce","webpack:///./~/core-js/library/modules/$.property-desc.js?e1db","webpack:///./~/core-js/library/modules/$.shared.js?6ce8","webpack:///./~/core-js/library/modules/$.set-to-string-tag.js?d0fc","webpack:///./~/core-js/library/modules/$.wks.js?3e04","webpack:///./~/core-js/library/modules/$.uid.js?f177","webpack:///./~/core-js/library/modules/$.keyof.js?3b7d","webpack:///./~/core-js/library/modules/$.to-iobject.js?daca","webpack:///./~/core-js/library/modules/$.iobject.js?3ada","webpack:///./~/core-js/library/modules/$.cof.js?74ee","webpack:///./~/core-js/library/modules/$.get-names.js?e4b8","webpack:///./~/babel-runtime/core-js/object/get-own-property-names.js?5629","webpack:///./~/core-js/library/fn/object/get-own-property-names.js?4868","webpack:///./~/core-js/library/modules/es6.object.get-own-property-names.js?02fd","webpack:///./~/core-js/library/modules/$.enum-keys.js?1c2a","webpack:///./~/core-js/library/modules/$.is-array.js?4d69","webpack:///./~/core-js/library/modules/$.an-object.js?2be9","webpack:///./~/core-js/library/modules/$.is-object.js?7453","webpack:///./~/core-js/library/modules/$.library.js?c05f","webpack:///./~/babel-runtime/core-js/object/create.js?aa4b","webpack:///./~/core-js/library/fn/object/create.js?738c","webpack:///./src/template.html?60fe","webpack:///./src/crop.less?7543*","webpack:///./src/crop.less?69b2","webpack:///./~/css-loader/lib/css-base.js?da04","webpack:///./~/style-loader/addStyles.js?b980"],"names":["root","factory","exports","module","require","define","amd","a","i","this","__WEBPACK_EXTERNAL_MODULE_1__","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","_sf","_sf2","_crop","_crop2","instancesController","registerInstanceType","Object","defineProperty","value","undefined","_assign","_assign2","_create","_create2","externals","template","Crop","sf","node","options","_construct","prototype","core","BaseDOMConstructor","name","init","that","noop","parser","DOMParser","info","split","ratio","parseFloat","onFileProcessed","els","input","tagName","getElementsByClassName","modal","parseFromString","firstChild","lastChild","backdrop","window","navigator","MaxTouchPoints","msMaxTouchPoints","classList","add","fileNameSelector","charAt","filenameContainer","document","querySelector","parentNode","preview","console","warn","adjust","ajaximage","cropWrapper","imageOriginal","cropElements","cropSave","innerHTML","saveBtnText","customBtnClass","closePopup","closeBtnText","cropInfo","croppedSize","origSize","handlers","n","ne","e","se","s","sw","w","nw","current","dimmers","el","form","getInstance","reset","addEventListeners","attachData","removeChild","xhr","XMLHttpRequest","onreadystatechange","readyState","status","img","Image","url","URL","webkitURL","response","Blob","src","createObjectURL","handleFileSelect","open","responseType","send","appVersion","indexOf","style","backgroundColor","optionsToGrab","format","domAttr","ajaxAddress","cnv","cursor","x","y","crop","x2","y2","h","toSave","image","old","start","canvas","orig","scale","setTop","setLeft","setWidth","setHeight","changeInfo","type","updateInfo","length","forEach","Math","round","showPopup","body","appendChild","setTimeout","addModalEventListeners","removeEventListeners","hidePopup","remove","removeModalEventListeners","_inputChange","file","target","files","match","display","alert","_openCropper","readyToPrepare","prepare","addEventListener","removeEventListener","_cropSave","save","_hidePopup","_cropWrapperMouseDown","onCropStart","inCropping","_documentMouseMove","preventDefault","onCrop","_cropWrapperMouseUp","onCropEnd","_documentMouseUp","setPreviewImage","newimg","cloneNode","maxWidth","reader","FileReader","onload","theFile","blob","encodeURIComponent","replace","base64","result","innerText","clientHeight","clientWidth","naturalHeight","naturalWidth","screenFillIndex","innerHeight","innerWidth","floor","readAsDataURL","drawImageOnCanvas","ctx","drawImage","createElement","width","height","getContext","touches","offset","getBoundingClientRect","clientX","left","clientY","top","offsetX","layerX","pageX","offsetY","layerY","pageY","setN","setNE","setE","setSE","setS","setSW","setW","setNW","move","adjustN","notDefaultSide","adjustS","adjustW","adjustE","abs","dataURItoBlob","dataURI","byteString","mimeString","content","atob","decodeURI","charCodeAt","Uint8Array","strDataURI","toDataURL","events","on","data","append","die","assign","$export","S","F","global","PROTOTYPE","source","key","own","out","IS_FORCED","IS_GLOBAL","G","IS_STATIC","IS_PROTO","P","IS_BIND","B","IS_WRAP","W","C","param","Function","self","__g","version","__e","aFunction","fn","b","apply","arguments","it","TypeError","_keys","_keys2","_symbol","_symbol2","$","toObject","IObject","A","K","k","join","T","$$","$$len","index","getKeys","getSymbols","isEnum","keys","concat","j","$keys","defined","fails","KEY","exec","exp","Symbol","_typeof2","_typeof3","has","DESCRIPTORS","redefine","$fails","shared","setToStringTag","uid","wks","keyOf","$names","enumKeys","isArray","anObject","toIObject","createDesc","getDesc","setDesc","create","getNames","get","$Symbol","$JSON","JSON","_stringify","stringify","setter","HIDDEN","SymbolRegistry","AllSymbols","useNative","ObjectProto","setSymbolDesc","D","protoDesc","wrap","tag","sym","_k","configurable","set","isSymbol","$defineProperty","enumerable","$defineProperties","l","$create","$propertyIsEnumerable","E","$getOwnPropertyDescriptor","$getOwnPropertyNames","names","push","$getOwnPropertySymbols","$stringify","replacer","$replacer","args","buggyJSON","setDescs","symbolStatics","for","keyFor","useSetter","useSimple","each","defineProperties","getOwnPropertyDescriptor","getOwnPropertyNames","getOwnPropertySymbols","_Symbol","constructor","$Object","getProto","getPrototypeOf","propertyIsEnumerable","hasOwnProperty","object","bitmap","writable","SHARED","store","def","TAG","stat","px","random","toString","O","cof","slice","_getOwnPropertyNames","_getOwnPropertyNames2","windowNames","getWindowNames","symbols","Array","arg","isObject","locals","list","item","mediaQuery","alreadyImportedModules","addStylesToDom","styles","domStyle","stylesInDom","refs","parts","addStyle","listToStyles","newStyles","css","media","sourceMap","part","insertStyleElement","styleElement","head","getHeadElement","lastStyleElementInsertedAtTop","styleElementsInsertedAtTop","insertAt","nextSibling","insertBefore","Error","removeStyleElement","idx","splice","createStyleElement","createLinkElement","linkElement","rel","update","singleton","styleIndex","singletonCounter","singletonElement","applyToSingletonTag","bind","revokeObjectURL","btoa","updateLink","href","applyToTag","newObj","styleSheet","cssText","replaceText","cssNode","createTextNode","childNodes","setAttribute","unescape","oldSrc","memoize","memo","isOldIE","test","userAgent","toLowerCase","getElementsByTagName","newList","mayRemove","textStore","replacement","filter","Boolean"],"mappings":"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","file":"sf.crop.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"sf\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"sf\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"sf\")) : factory(root[\"sf\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","/*!\n * Spiral Image Cropper Widget v0.1.0\n * https://github.com/spiral-modules/image-cropper/\n * Copyright (c) 2016, Alex Chepura, Yauheni Yasinau, spiralscout.com\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"sf\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"sf\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"sf\")) : factory(root[\"sf\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _sf = __webpack_require__(1);\n\t\n\tvar _sf2 = _interopRequireDefault(_sf);\n\t\n\tvar _crop = __webpack_require__(2);\n\t\n\tvar _crop2 = _interopRequireDefault(_crop);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t__webpack_require__(50); //resolved in webpack's \"externals\"\n\t\n\t\n\t_sf2.default.instancesController.registerInstanceType(_crop2.default, \"js-sf-cropper\");\n\tmodule.exports = _crop2.default; // ES6 default export will not expose us as global\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.default = undefined;\n\t\n\tvar _assign = __webpack_require__(3);\n\t\n\tvar _assign2 = _interopRequireDefault(_assign);\n\t\n\tvar _create = __webpack_require__(47);\n\t\n\tvar _create2 = _interopRequireDefault(_create);\n\t\n\tvar _sf = __webpack_require__(1);\n\t\n\tvar _sf2 = _interopRequireDefault(_sf);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t//resolved in webpack's \"externals\"\n\t\n\tvar externals = {\n\t    template: __webpack_require__(49)\n\t};\n\tvar Crop = function Crop(sf, node, options) {\n\t    this._construct(sf, node, options);\n\t};\n\t\n\t/**\r\n\t * @lends sf.Form.prototype\r\n\t */\n\tCrop.prototype = (0, _create2.default)(_sf2.default.modules.core.BaseDOMConstructor.prototype);\n\t\n\t/**\r\n\t * Name to register\r\n\t * @type {string}\r\n\t */\n\tCrop.prototype.name = \"crop\";\n\t\n\tCrop.prototype._construct = function (sf, node, options) {\n\t\n\t    this.init(sf, node, options); //call parent\n\t\n\t    this.options.template = this.options.template || externals.template;\n\t\n\t    var that = this,\n\t        noop = function noop() {},\n\t        parser = new DOMParser();\n\t\n\t    if (options) {\n\t        //if we pass options extend all options by passed options\n\t        this.options = (0, _assign2.default)(this.options, options);\n\t    }\n\t\n\t    if (typeof this.options.info == \"string\") this.options.info = this.options.info.split(\",\");\n\t\n\t    if (this.options.ratio) this.options.ratio = parseFloat(this.options.ratio); //just to be sure about number format, not string\n\t    if (typeof this.options.onFileProcessed != \"function\") this.options.onFileProcessed = noop;\n\t\n\t    //elements\n\t    this.els = {\n\t        node: node,\n\t        input: node.tagName === \"INPUT\" ? node : node.getElementsByClassName(\"sf-crop-input\")[0],\n\t        modal: parser.parseFromString(this.options.template, \"text/html\").firstChild.lastChild.getElementsByClassName('sf-crop-modal')[0],\n\t        backdrop: parser.parseFromString(this.options.template, \"text/html\").firstChild.lastChild.getElementsByClassName('sf-crop-backdrop')[0]\n\t    };\n\t    if ('ontouchstart' in window || navigator.MaxTouchPoints > 0 || navigator.msMaxTouchPoints > 0) this.els.modal.classList.add('touch-device');\n\t\n\t    if (this.options.fileNameSelector) {\n\t        this.options.fileNameSelector.charAt(0) === \" \" ? this.els.filenameContainer = document.querySelector(this.options.fileNameSelector) : this.els.filenameContainer = (node.tagName === \"INPUT\" ? node.parentNode : node).querySelector(this.options.fileNameSelector);\n\t    }\n\t\n\t    if (this.options.preview) {\n\t        this.els.preview = document.querySelector(this.options.preview);\n\t    } else {\n\t        console.warn('Cropper: no preview provided');\n\t    }\n\t    if (this.options.adjust) {\n\t        this.els.adjust = this.options.adjust.charAt(0) === \" \" ? document.querySelector(this.options.adjust) : (node.tagName === \"INPUT\" ? node.parentNode : node).querySelector(this.options.adjust);\n\t    }\n\t\n\t    if (!this.options.ajaximage && !this.els.input) {\n\t        console.warn('Provide file-input to use cropper or load image with ajax (with data-ajaximage attr)');\n\t    }\n\t    this.els.cropWrapper = this.els.modal.getElementsByClassName(\"sf-crop-wrapper\")[0];\n\t    this.els.imageOriginal = this.els.modal.getElementsByClassName(\"sf-crop-image-original\")[0];\n\t    this.els.cropElements = this.els.modal.getElementsByClassName(\"sf-crop-elements\")[0];\n\t    this.els.cropSave = this.els.modal.getElementsByClassName(\"sf-crop-save\")[0];\n\t    if (this.els.cropSave) {\n\t        this.els.cropSave.innerHTML = this.options.saveBtnText;\n\t        this.options.customBtnClass ? this.els.cropSave.classList.add(this.options.customBtnClass) : '';\n\t    }\n\t    this.els.closePopup = this.els.modal.getElementsByClassName(\"sf-crop-close\")[0];\n\t    if (this.els.closePopup) {\n\t        this.els.closePopup.innerHTML = this.options.closeBtnText;\n\t        this.options.customBtnClass ? this.els.closePopup.classList.add(this.options.customBtnClass) : '';\n\t    }\n\t    this.els.cropInfo = {\n\t        ratio: this.els.modal.getElementsByClassName(\"sf-crop-ratio\")[0],\n\t        croppedSize: this.els.modal.getElementsByClassName(\"sf-crop-cropped-size\")[0],\n\t        origSize: this.els.modal.getElementsByClassName(\"sf-crop-orig-size\")[0]\n\t    };\n\t\n\t    this.els.handlers = {\n\t        n: this.els.modal.getElementsByClassName(\"handler-N\")[0],\n\t        ne: this.els.modal.getElementsByClassName(\"handler-NE\")[0],\n\t        e: this.els.modal.getElementsByClassName(\"handler-E\")[0],\n\t        se: this.els.modal.getElementsByClassName(\"handler-SE\")[0],\n\t        s: this.els.modal.getElementsByClassName(\"handler-S\")[0],\n\t        sw: this.els.modal.getElementsByClassName(\"handler-SW\")[0],\n\t        w: this.els.modal.getElementsByClassName(\"handler-W\")[0],\n\t        nw: this.els.modal.getElementsByClassName(\"handler-NW\")[0],\n\t        current: null\n\t    };\n\t\n\t    this.els.dimmers = {\n\t        el: this.els.modal.getElementsByClassName(\"dimmers\")[0],\n\t        n: this.els.modal.getElementsByClassName(\"dimmer-N\")[0],\n\t        e: this.els.modal.getElementsByClassName(\"dimmer-E\")[0],\n\t        s: this.els.modal.getElementsByClassName(\"dimmer-S\")[0],\n\t        w: this.els.modal.getElementsByClassName(\"dimmer-W\")[0]\n\t    };\n\t\n\t    this.els.form = this.els.input ? this.els.input.form : '';\n\t    this.form = sf.instancesController.getInstance(\"form\", this.els.form);\n\t\n\t    this.reset();\n\t    this.addEventListeners();\n\t    this.attachData();\n\t\n\t    if (this.options.ajaximage) {\n\t        if (this.els.input && this.els.input !== this.els.node) this.els.input.parentNode.removeChild(this.els.input); //this check is for not to remove cropper's node and not to trigger die method\n\t        var xhr = new XMLHttpRequest();\n\t        xhr.onreadystatechange = function () {\n\t            if (this.readyState == 4 && this.status == 200) {\n\t                var img = new Image();\n\t                var url = window.URL || window.webkitURL;\n\t                if (this.response instanceof Blob) {\n\t                    img.src = url.createObjectURL(this.response);\n\t                    that.handleFileSelect(this.response);\n\t                    //that.els.adjust.style.display = 'inline-block';\n\t                } else {\n\t                        that.els.adjust.parentNode.removeChild(that.els.adjust);\n\t                    }\n\t            }\n\t        };\n\t        xhr.open('GET', that.options.ajaximage);\n\t        xhr.responseType = 'blob';\n\t        xhr.send();\n\t    }\n\t    //IE10 click to move doesn't work. looks like click goes through cropper to background picture =(\n\t    if (navigator.appVersion.indexOf(\"MSIE 10\") != -1) this.els.cropElements.style.backgroundColor = \"rgba(255,255,255,0.01\";\n\t};\n\t\n\t/**\r\n\t * @override\r\n\t * @inheritDoc\r\n\t * @enum {string}\r\n\t */\n\tCrop.prototype.optionsToGrab = {\n\t    /**\r\n\t     *  How to send: cropped or full size with coordinates to crop on server <b>Default: \"cropped\"</b> <i>Optional: \"full\"</i>\r\n\t     */\n\t    format: {\n\t        value: \"cropped\",\n\t        domAttr: \"data-format\"\n\t    },\n\t    /**\r\n\t     *  Preloading of image  <b>Default: \"false\"</b> <i>Optional: url of image to preload</i>\r\n\t     */\n\t    ajaximage: {\n\t        value: false,\n\t        domAttr: \"data-ajax-image\"\n\t    },\n\t    /**\r\n\t     *  Pass custom html template\r\n\t     */\n\t    template: {\n\t        domAttr: \"data-template\"\n\t    },\n\t    /**\r\n\t     *  Request address for submitting (if there is no form) <b>Default: \"false\"</b> <i>Optional: request URL</i>\r\n\t     */\n\t    ajaxAddress: {\n\t        value: false,\n\t        domAttr: \"data-ajax-address\"\n\t    },\n\t    /**\r\n\t     *  Locked aspect ratio <b>Default: false</b>\r\n\t     */\n\t    ratio: {\n\t        value: false,\n\t        domAttr: \"data-ratio\"\n\t    },\n\t    /**\r\n\t     *  Node selector to place filename. If starts with space - global search of node (document) otherwise inside the node (if the node is input, then from parent node)\r\n\t     */\n\t    fileNameSelector: {\n\t        domAttr: \"data-filename-selector\"\n\t    },\n\t    /**\r\n\t     *  What info to show <b>Default: []</b></br>\r\n\t     *  <b>Example: </b>data-info=\"ratio,origSize,croppedSize\"</br>\r\n\t     */\n\t    info: {\n\t        value: [],\n\t        domAttr: \"data-info\"\n\t    },\n\t    /**\r\n\t     *  Selector of preview element <b>Default: \"\"</b>\r\n\t     */\n\t    preview: {\n\t        value: \"\",\n\t        domAttr: \"data-preview\"\n\t    },\n\t    /**\r\n\t     *  Save button text <b>Default: \"Save\"</b>\r\n\t     */\n\t    saveBtnText: {\n\t        value: \"Save\",\n\t        domAttr: \"data-save-btn-text\"\n\t    },\n\t    /**\r\n\t     *  Save button text <b>Default: \"Close\"</b>\r\n\t     */\n\t    closeBtnText: {\n\t        value: \"Close\",\n\t        domAttr: \"data-close-btn-text\"\n\t    },\n\t    /**\r\n\t     *  Pass custom class to btns <b>Default: \"\"</b>\r\n\t     */\n\t    customBtnClass: {\n\t        domAttr: \"data-custom-btn-class\"\n\t    },\n\t    /**\r\n\t     *  Selector of element which triggers crop-modal <b>Default: \"\"</b>  If starts with space - global search of node (document) otherwise inside the node (if the node is input, then from parent node)\r\n\t     */\n\t    adjust: {\n\t        value: \"\",\n\t        domAttr: \"data-adjust\"\n\t    },\n\t    /**\r\n\t     *  Name for formData <b>Default: \"cropped\"</b>\r\n\t     */\n\t    name: {\n\t        value: \"cropped\",\n\t        domAttr: \"data-name\"\n\t    }\n\t};\n\tCrop.prototype.reset = function () {\n\t    //Coordinates and Variables\n\t    this.cnv = {\n\t        cursor: { x: 0, y: 0 },\n\t        crop: { x: 0, y: 0, x2: 0, y2: 0, w: 0, h: 0 },\n\t        toSave: { x: 0, y: 0, w: 0, h: 0 },\n\t        image: { w: 0, h: 0 },\n\t        old: {\n\t            cursor: { x: 0, y: 0 }\n\t        },\n\t        start: {\n\t            crop: { x: 0, y: 0, w: 0, h: 0 }\n\t        },\n\t        canvas: { w: 0, h: 0 }, //calculates on file handling\n\t        orig: {},\n\t        preview: { w: 0, h: 0 },\n\t        scale: 1\n\t    };\n\t    this.setTop(0);\n\t    this.setLeft(0);\n\t    this.setWidth(0);\n\t    this.setHeight(0);\n\t\n\t    if (this.els.imageOriginal.lastChild) this.els.imageOriginal.removeChild(this.els.imageOriginal.lastChild);\n\t};\n\t/**\r\n\t * Changes crop info if need.\r\n\t * @param type {string}\r\n\t * @param value {string|number}\r\n\t */\n\tCrop.prototype.changeInfo = function (type, value) {\n\t    switch (type) {\n\t        case \"ratio\":\n\t            this.els.cropInfo.ratio.innerHTML = \"Aspect ratio: \" + value;\n\t            break;\n\t        case \"croppedSize\":\n\t            this.els.cropInfo.croppedSize.innerHTML = \"Cropped size: \" + value[0] + 'x' + value[1];\n\t            break;\n\t        case \"origSize\":\n\t            this.els.cropInfo.origSize.innerHTML = \"Original size: \" + value[0] + 'x' + value[1];\n\t            break;\n\t        default:\n\t            break;\n\t    }\n\t};\n\t/**\r\n\t * Update cropping info.\r\n\t */\n\tCrop.prototype.updateInfo = function () {\n\t    var that = this;\n\t    if (this.options.info.length > 0) {\n\t        this.options.info.forEach(function (info) {\n\t            if (info == \"ratio\") that.changeInfo(\"ratio\", Math.round(that.cnv.crop.w / that.cnv.crop.h * 100) / 100);\n\t            if (info == \"croppedSize\") that.changeInfo(\"croppedSize\", [Math.round(that.cnv.crop.w * that.cnv.scale), Math.round(that.cnv.crop.h * that.cnv.scale)]);\n\t        });\n\t    }\n\t};\n\t/**\r\n\t * Shows modal with cropper\r\n\t */\n\tCrop.prototype.showPopup = function () {\n\t    var that = this;\n\t    document.body.appendChild(this.els.modal);\n\t    document.body.appendChild(this.els.backdrop);\n\t    setTimeout(function () {\n\t        that.els.modal.classList.add('visible');\n\t        that.els.backdrop.classList.add('visible');\n\t    }, 0);\n\t    this.addModalEventListeners();\n\t    this.removeEventListeners();\n\t};\n\t/**\r\n\t * Hides modal with cropper\r\n\t */\n\tCrop.prototype.hidePopup = function () {\n\t    var that = this;\n\t    this.els.modal.classList.remove('visible');\n\t    this.els.backdrop.classList.remove('visible');\n\t\n\t    setTimeout(function () {\n\t        that.els.modal.parentNode.removeChild(that.els.modal);\n\t        that.els.backdrop.parentNode.removeChild(that.els.backdrop);\n\t    }, 300);\n\t\n\t    this.removeModalEventListeners();\n\t    this.addEventListeners();\n\t};\n\t\n\t/**\r\n\t * Adds static events listeners.\r\n\t */\n\tCrop.prototype.addEventListeners = function () {\n\t    var that = this;\n\t\n\t    this._inputChange = function (e) {\n\t        //IE9 doesn't support File API\n\t        var file = e.target.files[0];\n\t        if (!file.type.match(/image/)) {\n\t            alert(\"Please select an image.\");\n\t            return;\n\t        }\n\t        that.handleFileSelect(file);\n\t        if (that.els.adjust) that.els.adjust.style.display = 'inline-block';\n\t    };\n\t\n\t    this._openCropper = function (e) {\n\t        if (that.img) {\n\t            if (that.readyToPrepare) that.prepare();\n\t            that.showPopup();\n\t        }\n\t    };\n\t\n\t    if (this.els.input) {\n\t        this.els.input.addEventListener('change', this._inputChange);\n\t    }\n\t    if (this.els.preview) {\n\t        this.els.preview.addEventListener('click', this._openCropper);\n\t    }\n\t    if (this.els.adjust) {\n\t        this.els.adjust.addEventListener('click', this._openCropper);\n\t    }\n\t};\n\t\n\tCrop.prototype.removeEventListeners = function () {\n\t    if (this.els.input) {\n\t        this.els.input.removeEventListener('change', this._inputChange);\n\t    }\n\t    if (this.els.preview) {\n\t        this.els.preview.removeEventListener('click', this._openCropper);\n\t    }\n\t    if (this.els.adjust) {\n\t        this.els.adjust.removeEventListener('click', this._openCropper);\n\t    }\n\t};\n\t\n\t/**\r\n\t * Adds events listeners for modal.\r\n\t */\n\tCrop.prototype.addModalEventListeners = function () {\n\t    var that = this;\n\t\n\t    this._cropSave = function () {\n\t        that.save();\n\t        that.hidePopup();\n\t    };\n\t\n\t    this._hidePopup = function () {\n\t        //this fn to save correct \"this\" and to be able to remove listener later\n\t        that.hidePopup();\n\t    };\n\t\n\t    this._cropWrapperMouseDown = function (e) {\n\t        that.onCropStart(e);\n\t        that.inCropping = true;\n\t    };\n\t\n\t    this._documentMouseMove = function (e) {\n\t        if (that.inCropping) {\n\t            e.preventDefault(); //prevent selecting background elements\n\t            that.onCrop(e);\n\t        }\n\t    };\n\t\n\t    this._cropWrapperMouseUp = function () {\n\t        that.onCropEnd();\n\t        that.inCropping = false;\n\t    };\n\t\n\t    this._documentMouseUp = function () {\n\t        that.onCropEnd();\n\t        that.inCropping = false;\n\t    };\n\t    this.els.closePopup.addEventListener(\"click\", this._hidePopup);\n\t    this.els.backdrop.addEventListener(\"click\", this._hidePopup);\n\t    this.els.cropSave.addEventListener(\"click\", this._cropSave);\n\t    this.els.cropWrapper.addEventListener(\"mousedown\", this._cropWrapperMouseDown);\n\t    this.els.cropWrapper.addEventListener(\"touchstart\", this._cropWrapperMouseDown);\n\t    this.els.cropWrapper.addEventListener(\"mouseup\", this._cropWrapperMouseUp);\n\t    this.els.cropWrapper.addEventListener(\"touchend\", this._cropWrapperMouseUp);\n\t    document.addEventListener(\"mousemove\", this._documentMouseMove);\n\t    document.addEventListener(\"touchmove\", this._documentMouseMove);\n\t    document.addEventListener(\"mouseup\", this._documentMouseUp);\n\t    document.addEventListener(\"touchend\", this._documentMouseUp);\n\t};\n\t\n\tCrop.prototype.removeModalEventListeners = function () {\n\t    this.els.closePopup.removeEventListener(\"click\", this._hidePopup);\n\t    this.els.backdrop.removeEventListener(\"click\", this._hidePopup);\n\t    this.els.cropSave.removeEventListener(\"click\", this._cropSave);\n\t    this.els.cropWrapper.removeEventListener(\"mousedown\", this._cropWrapperMouseDown);\n\t    this.els.cropWrapper.removeEventListener(\"touchstart\", this._cropWrapperMouseDown);\n\t    this.els.cropWrapper.removeEventListener(\"mouseup\", this._cropWrapperMouseUp);\n\t    this.els.cropWrapper.removeEventListener(\"touchend\", this._cropWrapperMouseUp);\n\t    document.removeEventListener(\"mousemove\", this._documentMouseMove);\n\t    document.removeEventListener(\"touchmove\", this._documentMouseMove);\n\t    document.removeEventListener(\"mouseup\", this._documentMouseUp);\n\t    document.removeEventListener(\"touchend\", this._documentMouseUp);\n\t};\n\t\n\t/**\r\n\t * Sets preview\r\n\t * @param img\r\n\t */\n\tCrop.prototype.setPreviewImage = function (img) {\n\t    var that = this;\n\t    if (that.els.preview) {\n\t        //        if (that.els.preview.lastChild) // Don't remember why was removing only last child\n\t        //            that.els.preview.removeChild(that.els.preview.lastChild);\n\t        while (that.els.preview.firstChild) {\n\t            that.els.preview.removeChild(that.els.preview.firstChild);\n\t        }\n\t        var newimg = img.cloneNode(true);\n\t        newimg.style.maxWidth = \"100%\";\n\t        that.els.preview.appendChild(newimg);\n\t    }\n\t};\n\t/**\r\n\t * Reads file, selected by user\r\n\t * @param file\r\n\t */\n\tCrop.prototype.handleFileSelect = function (file) {\n\t    var that = this;\n\t    this.reader = new FileReader();\n\t    this.reset();\n\t    this.reader.onload = function (theFile) {\n\t        return function (e) {\n\t            that.file = {\n\t                file: theFile,\n\t                blob: theFile,\n\t                name: encodeURIComponent(theFile.name ? theFile.name : that.options.ajaximage.replace(/^.*[\\\\\\/]/, '')),\n\t                base64: e.target.result\n\t            };\n\t            if (that.els.filenameContainer) that.els.filenameContainer.innerText = that.file.name;\n\t            that.img = new Image();\n\t            that.img.src = that.file.base64;\n\t            that.img.onload = function () {\n\t                that.setPreviewImage(that.img);\n\t                that.cnv.preview.h = that.img.clientHeight;\n\t                that.cnv.preview.w = that.img.clientWidth;\n\t                that.cnv.orig.h = that.img.naturalHeight;\n\t                that.cnv.orig.w = that.img.naturalWidth;\n\t                that.cnv.orig.ratio = that.cnv.orig.w / that.cnv.orig.h;\n\t\n\t                var screenFillIndex = 0.7; //max coefficient of viewport to be filled with image\n\t                if (that.cnv.orig.h < window.innerHeight * screenFillIndex && that.cnv.orig.w < window.innerWidth * screenFillIndex) {\n\t                    that.cnv.canvas.w = that.cnv.orig.w; //if image is less than viewport * coeff.\n\t                } else {\n\t                        //calculate width of canvas to suit the screen best way\n\t                        if (that.cnv.orig.ratio > window.innerWidth / window.innerHeight) {\n\t                            that.cnv.canvas.w = window.innerWidth * screenFillIndex;\n\t                        } else {\n\t                            that.cnv.canvas.w = Math.floor(that.cnv.orig.w * window.innerHeight / that.cnv.orig.h) * screenFillIndex;\n\t                        }\n\t                    }\n\t\n\t                that.cnv.scale = that.cnv.orig.w / that.cnv.canvas.w;\n\t                that.cnv.toSave.w = that.cnv.orig.w;\n\t                that.cnv.toSave.h = that.cnv.orig.h;\n\t\n\t                if (that.els.imageOriginal.lastChild) that.els.imageOriginal.removeChild(that.els.imageOriginal.lastChild);\n\t                that.readyToPrepare = true;\n\t                that.options.onFileProcessed();\n\t            };\n\t        };\n\t    }(file);\n\t\n\t    this.reader.readAsDataURL(file);\n\t};\n\t\n\t/**\r\n\t * Prepares canvas, calculates coordinates\r\n\t */\n\tCrop.prototype.prepare = function () {\n\t    var that = this;\n\t    var c = document.createElement(\"canvas\");\n\t    c.width = that.cnv.canvas.w;\n\t    c.height = that.cnv.canvas.w / that.cnv.orig.ratio;\n\t    var ctx = c.getContext(\"2d\");\n\t\n\t    function drawImageOnCanvas() {\n\t        //fix to NS_ERROR_NOT_AVAILABLE in firefox with ctx.drawImage\n\t        try {\n\t            ctx.drawImage(that.img, 0, 0, that.cnv.canvas.w, that.cnv.canvas.w / that.cnv.orig.ratio);\n\t        } catch (e) {\n\t            if (e.name == \"NS_ERROR_NOT_AVAILABLE\") {\n\t                setTimeout(drawImageOnCanvas, 0);\n\t            } else {\n\t                throw e;\n\t            }\n\t        }\n\t    }\n\t\n\t    drawImageOnCanvas();\n\t    that.els.imageOriginal.appendChild(c);\n\t    setTimeout(function () {\n\t        that.cnv.image.w = that.els.imageOriginal.lastChild.clientWidth;\n\t        that.cnv.image.h = that.els.imageOriginal.lastChild.clientHeight;\n\t        that.cnv.start.crop.w = that.cnv.image.w;\n\t        that.cnv.start.crop.h = that.cnv.image.h;\n\t        that.setWidth(that.cnv.image.w);\n\t        that.setHeight(that.cnv.image.h);\n\t        that.cnv.crop.x2 = that.cnv.image.w;\n\t        that.cnv.crop.y2 = that.cnv.image.h;\n\t\n\t        if (that.options.ratio) {\n\t            if (that.cnv.orig.ratio > that.options.ratio) {\n\t                var w = that.cnv.crop.w;\n\t                that.setWidth(Math.round(that.cnv.start.crop.h * that.options.ratio));\n\t                that.cnv.start.crop.w = that.cnv.crop.w;\n\t                that.setLeft(Math.round((w - that.cnv.crop.w) / 2));\n\t                that.cnv.crop.x2 = that.cnv.crop.x + that.cnv.crop.w;\n\t            } else {\n\t                var h = that.cnv.crop.h;\n\t                that.setHeight(Math.round(that.cnv.start.crop.w / that.options.ratio));\n\t                that.cnv.start.crop.h = that.cnv.crop.h;\n\t                that.setTop(Math.round((h - that.cnv.crop.h) / 2));\n\t                that.cnv.crop.y2 = that.cnv.crop.y + that.cnv.crop.h;\n\t            }\n\t\n\t            that.save();\n\t        }\n\t        that.updateInfo();\n\t        if (that.options.info.indexOf(\"origSize\") > -1) {\n\t            that.changeInfo(\"origSize\", [that.cnv.orig.w, that.cnv.orig.h]); //no need to pass through updateInfo since it's static\n\t        }\n\t\n\t        that.readyToPrepare = false;\n\t    }, 50);\n\t};\n\t\n\t/**\r\n\t * Processes crop start.\r\n\t * @param {Event} e\r\n\t */\n\tCrop.prototype.onCropStart = function (e) {\n\t    if (e.type === \"touchstart\") e = e.touches[0];\n\t    this.els.handlers.current = e.target;\n\t    this.cnv.offset = this.els.cropWrapper.getBoundingClientRect();\n\t    this.cnv.cursor.x = Math.round(e.clientX - this.cnv.offset.left);\n\t    this.cnv.cursor.y = Math.round(e.clientY - this.cnv.offset.top);\n\t    this.cnv.cursor.offsetX = e.offsetX === undefined ? e.layerX ? Math.round(e.layerX) : e.pageX - e.target.getBoundingClientRect().left : Math.round(e.offsetX);\n\t    this.cnv.cursor.offsetY = e.offsetY === undefined ? e.layerY ? Math.round(e.layerY) : e.pageY - e.target.getBoundingClientRect().top : Math.round(e.offsetY);\n\t};\n\t\n\t/**\r\n\t * Processes cropping (mouse move)\r\n\t * @param  {Event} e\r\n\t */\n\tCrop.prototype.onCrop = function (e) {\n\t    if (!this.els.handlers.current) return;\n\t    if (e.type === \"touchmove\") e = e.touches[0];\n\t    this.cnv.cursor.x = Math.round(e.clientX - this.cnv.offset.left);\n\t    this.cnv.cursor.y = Math.round(e.clientY - this.cnv.offset.top);\n\t    switch (this.els.handlers.current) {\n\t        case this.els.handlers.n:\n\t            this.setN();\n\t            break;\n\t        case this.els.handlers.ne:\n\t            this.setNE();\n\t            break;\n\t        case this.els.handlers.e:\n\t            this.setE();\n\t            break;\n\t        case this.els.handlers.se:\n\t            this.setSE();\n\t            break;\n\t        case this.els.handlers.s:\n\t            this.setS();\n\t            break;\n\t        case this.els.handlers.sw:\n\t            this.setSW();\n\t            break;\n\t        case this.els.handlers.w:\n\t            this.setW();\n\t            break;\n\t        case this.els.handlers.nw:\n\t            this.setNW();\n\t            break;\n\t        case this.els.cropElements:\n\t            this.move();\n\t            break;\n\t    }\n\t    this.updateInfo();\n\t};\n\t\n\t/**\r\n\t * Process crop end.\r\n\t */\n\tCrop.prototype.onCropEnd = function () {\n\t    this.els.handlers.current = null;\n\t};\n\t/**\r\n\t * Sets left side of cropper\r\n\t * @param x {number}\r\n\t */\n\tCrop.prototype.setLeft = function (x) {\n\t    this.cnv.crop.x = x;\n\t    this.els.cropElements.style.left = x + \"px\";\n\t    this.els.dimmers.el.style.left = x + \"px\";\n\t};\n\t/**\r\n\t * Sets top side of cropper\r\n\t * @param y {number}\r\n\t */\n\tCrop.prototype.setTop = function (y) {\n\t    this.cnv.crop.y = y;\n\t    this.els.cropElements.style.top = y + \"px\";\n\t    this.els.dimmers.el.style.top = y + \"px\";\n\t};\n\t/**\r\n\t * Sets width of cropper\r\n\t * @param w {number}\r\n\t */\n\tCrop.prototype.setWidth = function (w) {\n\t    this.cnv.crop.w = w;\n\t    this.els.cropElements.style.width = w + \"px\";\n\t    this.els.dimmers.el.style.width = w + \"px\";\n\t};\n\t/**\r\n\t * Sets height of cropper\r\n\t * @param h {number}\r\n\t */\n\tCrop.prototype.setHeight = function (h) {\n\t    this.cnv.crop.h = h;\n\t    this.els.cropElements.style.height = h + \"px\";\n\t    this.els.dimmers.el.style.height = h + \"px\";\n\t};\n\t\n\t/**\r\n\t * Adjusts coordinates.\r\n\t * @param {boolean|undefined} notDefaultSide\r\n\t * @param {number} y\r\n\t */\n\tCrop.prototype.adjustN = function (notDefaultSide, y) {\n\t    if (notDefaultSide) {\n\t        if ((this.cnv.crop.y2 - y) * this.options.ratio <= this.cnv.crop.x2) {\n\t            this.setTop(y);\n\t            this.setHeight(this.cnv.crop.y2 - y);\n\t            this.setWidth(Math.round(this.cnv.crop.h * this.options.ratio));\n\t            this.setLeft(this.cnv.crop.x2 - this.cnv.crop.w);\n\t        } else {\n\t            this.setLeft(0);\n\t            this.setWidth(this.cnv.crop.x2);\n\t            this.setTop(this.cnv.crop.y2 - Math.round(this.cnv.crop.w / this.options.ratio));\n\t        }\n\t    } else {\n\t        if ((this.cnv.crop.y2 - y) * this.options.ratio + this.cnv.crop.x <= this.cnv.image.w) {\n\t            this.setTop(y);\n\t            this.setHeight(this.cnv.crop.y2 - y);\n\t            this.setWidth(Math.round(this.cnv.crop.h * this.options.ratio));\n\t            this.cnv.crop.x2 = this.cnv.crop.x + this.cnv.crop.w;\n\t        } else {\n\t            this.setWidth(this.cnv.image.w - this.cnv.crop.x);\n\t            this.setTop(this.cnv.crop.y2 - Math.round(this.cnv.crop.w / this.options.ratio));\n\t            this.setHeight(this.cnv.crop.y2 - this.cnv.crop.y);\n\t            this.cnv.crop.x2 = this.cnv.image.w;\n\t        }\n\t    }\n\t};\n\t\n\t/**\r\n\t * Sets top coordinates and border.\r\n\t * @param {Boolean} [notDefaultSide]\r\n\t */\n\tCrop.prototype.setN = function (notDefaultSide) {\n\t    if (this.options.ratio) {\n\t        if (this.cnv.cursor.y > 0) {\n\t            if (this.cnv.cursor.y < this.cnv.crop.y2) {\n\t                this.adjustN(notDefaultSide, this.cnv.cursor.y);\n\t            } else {\n\t                this.setHeight(1);\n\t                this.setWidth(Math.round(this.cnv.crop.h * this.options.ratio));\n\t                if (notDefaultSide) {\n\t                    this.setLeft(this.cnv.crop.x2 - 1);\n\t                } else {\n\t                    this.cnv.crop.x2 = this.cnv.crop.x + this.cnv.crop.w;\n\t                }\n\t                this.setTop(this.cnv.crop.y2 - 1);\n\t            }\n\t        } else {\n\t            this.adjustN(notDefaultSide, 0);\n\t        }\n\t    } else {\n\t        if (this.cnv.cursor.y > 0) {\n\t            if (this.cnv.cursor.y < this.cnv.crop.y2) {\n\t                this.setTop(this.cnv.cursor.y);\n\t                this.setHeight(this.cnv.crop.y2 - this.cnv.crop.y);\n\t            } else {\n\t                this.setTop(this.cnv.crop.y2 - 1);\n\t                this.setHeight(1);\n\t            }\n\t        } else {\n\t            this.setTop(0);\n\t            this.setHeight(this.cnv.crop.y2);\n\t        }\n\t    }\n\t};\n\t\n\t/**\r\n\t * Adjusts coordinates.\r\n\t * @param {boolean|undefined} notDefaultSide\r\n\t * @param {number} y2\r\n\t */\n\tCrop.prototype.adjustS = function (notDefaultSide, y2) {\n\t    if (notDefaultSide) {\n\t        if ((y2 - this.cnv.crop.y) * this.options.ratio <= this.cnv.crop.x2) {\n\t            this.setHeight(y2 - this.cnv.crop.y);\n\t            this.setWidth(Math.round(this.cnv.crop.h * this.options.ratio));\n\t            this.setLeft(this.cnv.crop.x2 - this.cnv.crop.w);\n\t            this.cnv.crop.y2 = y2;\n\t        } else {\n\t            this.setLeft(0);\n\t            this.setWidth(this.cnv.crop.x2);\n\t            this.setHeight(Math.round(this.cnv.crop.w / this.options.ratio));\n\t            this.cnv.crop.y2 = this.cnv.crop.y + this.cnv.crop.h;\n\t        }\n\t    } else {\n\t        if ((y2 - this.cnv.crop.y) * this.options.ratio + this.cnv.crop.x <= this.cnv.image.w) {\n\t            this.setHeight(y2 - this.cnv.crop.y);\n\t            this.setWidth(Math.round(this.cnv.crop.h * this.options.ratio));\n\t            this.cnv.crop.y2 = y2;\n\t            this.cnv.crop.x2 = this.cnv.crop.x + this.cnv.crop.w;\n\t        } else {\n\t            this.setWidth(this.cnv.image.w - this.cnv.crop.x);\n\t            this.setHeight(Math.round(this.cnv.crop.w / this.options.ratio));\n\t            this.cnv.crop.x2 = this.cnv.image.w;\n\t            this.cnv.crop.y2 = this.cnv.crop.y + this.cnv.crop.h;\n\t        }\n\t    }\n\t};\n\t\n\t/**\r\n\t * Sets bottom coordinates and border.\r\n\t * @param {Boolean} [notDefaultSide]\r\n\t */\n\tCrop.prototype.setS = function (notDefaultSide) {\n\t    if (this.options.ratio) {\n\t        if (this.cnv.cursor.y < this.cnv.image.h) {\n\t            if (this.cnv.cursor.y > this.cnv.crop.y) {\n\t                this.adjustS(notDefaultSide, this.cnv.cursor.y);\n\t            } else {\n\t                this.setHeight(1);\n\t                this.setWidth(Math.round(this.cnv.crop.h * this.options.ratio));\n\t                if (notDefaultSide) {\n\t                    this.setLeft(this.cnv.crop.x2 - 1);\n\t                } else {\n\t                    this.cnv.crop.x2 = this.cnv.crop.x + this.cnv.crop.w;\n\t                }\n\t                this.cnv.crop.y2 = this.cnv.crop.y + 1;\n\t            }\n\t        } else {\n\t            this.adjustS(notDefaultSide, this.cnv.image.h);\n\t        }\n\t    } else {\n\t        if (this.cnv.cursor.y < this.cnv.image.h) {\n\t            if (this.cnv.cursor.y > this.cnv.crop.y) {\n\t                this.setHeight(this.cnv.cursor.y - this.cnv.crop.y);\n\t                this.cnv.crop.y2 = this.cnv.cursor.y;\n\t            } else {\n\t                this.setHeight(1);\n\t                this.cnv.crop.y2 = this.cnv.crop.y + 1;\n\t            }\n\t        } else {\n\t            this.setHeight(this.cnv.image.h - this.cnv.crop.y);\n\t            this.cnv.crop.y2 = this.cnv.image.h;\n\t        }\n\t    }\n\t};\n\t\n\t/**\r\n\t * Adjusts coordinates.\r\n\t * @param {boolean|undefined} notDefaultSide\r\n\t * @param {number} x\r\n\t */\n\tCrop.prototype.adjustW = function (notDefaultSide, x) {\n\t    if (notDefaultSide) {\n\t        if (this.cnv.crop.y2 - (this.cnv.crop.x2 - x) / this.options.ratio >= 0) {\n\t            this.setLeft(x);\n\t            this.setWidth(this.cnv.crop.x2 - x);\n\t            this.setHeight(Math.round(this.cnv.crop.w / this.options.ratio));\n\t            this.setTop(this.cnv.crop.y2 - this.cnv.crop.h);\n\t        } else {\n\t            this.setTop(0);\n\t            this.setHeight(this.cnv.crop.y2);\n\t            this.setWidth(Math.round(this.cnv.crop.h * this.options.ratio));\n\t            this.setLeft(this.cnv.crop.x2 - this.cnv.crop.w);\n\t        }\n\t    } else {\n\t        if ((this.cnv.crop.x2 - x) / this.options.ratio + this.cnv.crop.y <= this.cnv.image.h) {\n\t            this.setLeft(x);\n\t            this.setWidth(this.cnv.crop.x2 - x);\n\t            this.setHeight(Math.round(this.cnv.crop.w / this.options.ratio));\n\t            this.cnv.crop.y2 = this.cnv.crop.y + this.cnv.crop.h;\n\t        } else {\n\t            this.setHeight(this.cnv.image.h - this.cnv.crop.y);\n\t            this.setWidth(Math.round(this.cnv.crop.h * this.options.ratio));\n\t            this.setLeft(this.cnv.crop.x2 - this.cnv.crop.w);\n\t            this.cnv.crop.y2 = this.cnv.image.h;\n\t        }\n\t    }\n\t};\n\t\n\t/**\r\n\t * Sets left coordinates and border.\r\n\t * @param {Boolean} [notDefaultSide]\r\n\t */\n\tCrop.prototype.setW = function (notDefaultSide) {\n\t    if (this.options.ratio) {\n\t        if (this.cnv.cursor.x > 0) {\n\t            if (this.cnv.cursor.x < this.cnv.crop.x2) {\n\t                this.adjustW(notDefaultSide, this.cnv.cursor.x);\n\t            } else {\n\t                this.setWidth(1);\n\t                this.setHeight(Math.round(this.cnv.crop.w / this.options.ratio));\n\t                if (notDefaultSide) {\n\t                    this.setTop(this.cnv.crop.y2 - 1);\n\t                } else {\n\t                    this.cnv.crop.y2 = this.cnv.crop.y + this.cnv.crop.h;\n\t                }\n\t            }\n\t        } else {\n\t            this.adjustW(notDefaultSide, 0);\n\t        }\n\t    } else {\n\t        if (this.cnv.cursor.x > 0) {\n\t            if (this.cnv.cursor.x < this.cnv.crop.x2) {\n\t                this.setLeft(this.cnv.cursor.x);\n\t                this.setWidth(this.cnv.crop.x2 - this.cnv.crop.x);\n\t            } else {\n\t                this.setLeft(this.cnv.crop.x2 - 1);\n\t                this.setWidth(1);\n\t            }\n\t        } else {\n\t            this.setLeft(0);\n\t            this.setWidth(this.cnv.crop.x2);\n\t        }\n\t    }\n\t};\n\t\n\t/**\r\n\t * Adjusts coordinates.\r\n\t * @param {boolean|undefined} notDefaultSide\r\n\t * @param {number} x\r\n\t */\n\tCrop.prototype.adjustE = function (notDefaultSide, x) {\n\t    if (notDefaultSide) {\n\t        if (this.cnv.crop.y2 - (x - this.cnv.crop.x) / this.options.ratio >= 0) {\n\t            this.setWidth(x - this.cnv.crop.x);\n\t            this.setHeight(Math.round(this.cnv.crop.w / this.options.ratio));\n\t            this.setTop(this.cnv.crop.y2 - this.cnv.crop.h);\n\t            this.cnv.crop.x2 = x;\n\t        } else {\n\t            this.setTop(0);\n\t            this.setHeight(this.cnv.crop.y2);\n\t            this.setWidth(Math.round(this.cnv.crop.h * this.options.ratio));\n\t            this.cnv.crop.x2 = this.cnv.crop.x + this.cnv.crop.w;\n\t        }\n\t    } else {\n\t        if ((x - this.cnv.crop.x) / this.options.ratio + this.cnv.crop.y <= this.cnv.image.h) {\n\t            this.setWidth(x - this.cnv.crop.x);\n\t            this.setHeight(Math.round(this.cnv.crop.w / this.options.ratio));\n\t            this.cnv.crop.x2 = x;\n\t            this.cnv.crop.y2 = this.cnv.crop.y + this.cnv.crop.h;\n\t        } else {\n\t            this.setHeight(this.cnv.image.h - this.cnv.crop.y);\n\t            this.setWidth(Math.round(this.cnv.crop.h * this.options.ratio));\n\t            this.cnv.crop.y2 = this.cnv.image.h;\n\t            this.cnv.crop.x2 = this.cnv.crop.x + this.cnv.crop.w;\n\t        }\n\t    }\n\t};\n\t\n\t/**\r\n\t * Sets right coordinates and border.\r\n\t * @param {Boolean} [notDefaultSide]\r\n\t */\n\tCrop.prototype.setE = function (notDefaultSide) {\n\t    if (this.options.ratio) {\n\t        if (this.cnv.cursor.x < this.cnv.image.w) {\n\t            if (this.cnv.cursor.x > this.cnv.crop.x) {\n\t                this.adjustE(notDefaultSide, this.cnv.cursor.x);\n\t            } else {\n\t                this.setWidth(1);\n\t                this.setHeight(Math.round(this.cnv.crop.w / this.options.ratio));\n\t                if (notDefaultSide) {\n\t                    this.setTop(this.cnv.crop.y2 - 1);\n\t                } else {\n\t                    this.cnv.crop.y2 = this.cnv.crop.y + this.cnv.crop.h;\n\t                }\n\t                this.cnv.crop.x2 = this.cnv.crop.x + 1;\n\t            }\n\t        } else {\n\t            this.adjustE(notDefaultSide, this.cnv.image.w);\n\t        }\n\t    } else {\n\t        if (this.cnv.cursor.x < this.cnv.image.w) {\n\t            if (this.cnv.cursor.x > this.cnv.crop.x) {\n\t                this.setWidth(this.cnv.cursor.x - this.cnv.crop.x);\n\t                this.cnv.crop.x2 = this.cnv.cursor.x;\n\t            } else {\n\t                this.setWidth(1);\n\t                this.cnv.crop.x2 = this.cnv.crop.x + 1;\n\t            }\n\t        } else {\n\t            this.setWidth(this.cnv.image.w - this.cnv.crop.x);\n\t            this.cnv.crop.x2 = this.cnv.image.w;\n\t        }\n\t    }\n\t};\n\t\n\t/**\r\n\t * Sets top-right corner.\r\n\t */\n\tCrop.prototype.setNE = function () {\n\t    if (this.options.ratio) {\n\t        if (Math.abs(this.cnv.cursor.x - this.cnv.crop.x2) > Math.abs(this.cnv.cursor.y - this.cnv.crop.y) && this.cnv.cursor.x <= this.cnv.crop.x2) {\n\t            this.setN();\n\t        } else {\n\t            this.cnv.cursor.y >= this.cnv.crop.y ? this.setE(true) : this.setN();\n\t        }\n\t    } else {\n\t        this.setN();\n\t        this.setE();\n\t    }\n\t};\n\t\n\t/**\r\n\t * Sets bottom-right corner.\r\n\t */\n\tCrop.prototype.setSE = function () {\n\t    if (this.options.ratio) {\n\t        if (Math.abs(this.cnv.cursor.x - this.cnv.crop.x2) > Math.abs(this.cnv.cursor.y - this.cnv.crop.y - this.cnv.crop.h) && this.cnv.cursor.x <= this.cnv.crop.x2) {\n\t            this.setS();\n\t        } else {\n\t            this.cnv.cursor.y <= this.cnv.crop.y + this.cnv.crop.h ? this.setE() : this.setS();\n\t        }\n\t    } else {\n\t        this.setS();\n\t        this.setE();\n\t    }\n\t};\n\t\n\t/**\r\n\t * Sets bottom-left corner.\r\n\t */\n\tCrop.prototype.setSW = function () {\n\t    if (this.options.ratio) {\n\t        if (Math.abs(this.cnv.cursor.x - this.cnv.crop.x) > Math.abs(this.cnv.cursor.y - this.cnv.crop.y - this.cnv.crop.h) && this.cnv.cursor.x >= this.cnv.crop.x) {\n\t            this.setS(true);\n\t        } else {\n\t            this.cnv.cursor.y <= this.cnv.crop.y + this.cnv.crop.h ? this.setW() : this.setS(true);\n\t        }\n\t    } else {\n\t        this.setS();\n\t        this.setW();\n\t    }\n\t};\n\t\n\t/**\r\n\t * Sets top-left corner.\r\n\t */\n\tCrop.prototype.setNW = function () {\n\t    if (this.options.ratio) {\n\t        if (Math.abs(this.cnv.cursor.x - this.cnv.crop.x) > Math.abs(this.cnv.cursor.y - this.cnv.crop.y) && this.cnv.cursor.x >= this.cnv.crop.x) {\n\t            this.setN(true);\n\t        } else {\n\t            this.cnv.cursor.y >= this.cnv.crop.y ? this.setW(true) : this.setN(true);\n\t        }\n\t    } else {\n\t        this.setN();\n\t        this.setW();\n\t    }\n\t};\n\t\n\t/**\r\n\t * Processes move crop selection.\r\n\t */\n\tCrop.prototype.move = function () {\n\t    var left = this.cnv.cursor.x - this.cnv.cursor.offsetX;\n\t    var top = this.cnv.cursor.y - this.cnv.cursor.offsetY;\n\t    if (left > 0) {\n\t        if (left + this.cnv.crop.w < this.cnv.image.w) {\n\t            this.setLeft(left);\n\t        } else {\n\t            this.setLeft(this.cnv.image.w - this.cnv.crop.w);\n\t        }\n\t    } else {\n\t        this.setLeft(0);\n\t    }\n\t\n\t    if (top > 0) {\n\t        if (top + this.cnv.crop.h < this.cnv.image.h) {\n\t            this.setTop(top);\n\t        } else {\n\t            this.setTop(this.cnv.image.h - this.cnv.crop.h);\n\t        }\n\t    } else {\n\t        this.setTop(0);\n\t    }\n\t\n\t    this.cnv.crop.x2 = this.cnv.crop.x + this.cnv.crop.w;\n\t    this.cnv.crop.y2 = this.cnv.crop.y + this.cnv.crop.h;\n\t};\n\t\n\t/**\r\n\t * Converts dataURI to Blob.\r\n\t * http://stackoverflow.com/questions/4998908/convert-data-uri-to-file-then-append-to-formdata\r\n\t * @param dataURI\r\n\t * @returns {Blob}\r\n\t */\n\tCrop.prototype.dataURItoBlob = function (dataURI) {\n\t\n\t    var content = [],\n\t        byteString,\n\t        mimeString;\n\t\n\t    if (dataURI.split(',')[0].indexOf('base64') !== -1) {\n\t        byteString = atob(dataURI.split(',')[1]);\n\t    } else {\n\t        byteString = decodeURI(dataURI.split(',')[1]);\n\t    }\n\t\n\t    mimeString = dataURI.split(',')[0].split(':')[1].split(';')[0];\n\t\n\t    for (var i = 0; i < byteString.length; i++) {\n\t        content[i] = byteString.charCodeAt(i);\n\t    }\n\t\n\t    return new Blob([new Uint8Array(content)], { type: mimeString });\n\t};\n\t\n\t/**\r\n\t * Saves results to preview.\r\n\t */\n\tCrop.prototype.save = function () {\n\t    'use strict';\n\t\n\t    var that = this;\n\t    var c = document.createElement(\"canvas\"),\n\t        ctx = c.getContext(\"2d\"),\n\t        img;\n\t    this.cnv.toSave = { //CoordinateS\n\t        w: Math.round(this.cnv.crop.w * this.cnv.scale),\n\t        h: Math.round(this.cnv.crop.h * this.cnv.scale),\n\t        x: Math.round(this.cnv.crop.x * this.cnv.scale),\n\t        y: Math.round(this.cnv.crop.y * this.cnv.scale)\n\t    };\n\t\n\t    c.width = this.cnv.toSave.w;\n\t    c.height = this.cnv.toSave.h;\n\t\n\t    function drawImageOnCanvas() {\n\t        //TODO refactor this piece. Almost the same as in prepare().\n\t        try {\n\t            ctx.drawImage(that.img, that.cnv.toSave.x, that.cnv.toSave.y, that.cnv.toSave.w, that.cnv.toSave.h, 0, 0, that.cnv.toSave.w, that.cnv.toSave.h);\n\t        } catch (e) {\n\t            if (e.name == \"NS_ERROR_NOT_AVAILABLE\") {\n\t                setTimeout(drawImageOnCanvas, 0);\n\t            } else {\n\t                throw e;\n\t            }\n\t        }\n\t    }\n\t\n\t    drawImageOnCanvas();\n\t    this.strDataURI = c.toDataURL(\"image/jpeg\", 0.95);\n\t\n\t    img = new Image();\n\t    img.src = this.strDataURI;\n\t\n\t    this.setPreviewImage(img);\n\t    this.file.blob = this.dataURItoBlob(this.strDataURI);\n\t};\n\t\n\t/**\r\n\t * Attaches data to formData\r\n\t */\n\tCrop.prototype.attachData = function () {\n\t    var that = this;\n\t    if (!this.form) return;\n\t\n\t    if (this.options.format == \"cropped\") {\n\t        this.form.events.on(\"beforeSend\", function (options) {\n\t            if (!that.file) return;\n\t            options.data.append(that.options.name, that.file.blob, that.file.name);\n\t        });\n\t    } else {\n\t        this.form.events.on(\"beforeSend\", function (options) {\n\t            if (!that.file) return;\n\t            options.data.append(that.options.name, that.file.file, that.file.name);\n\t            options.data.append(that.options.name + \"-cropData[cropWidth]\", that.cnv.toSave.w);\n\t            options.data.append(that.options.name + \"-cropData[cropHeight]\", that.cnv.toSave.h);\n\t            options.data.append(that.options.name + \"-cropData[cropX]\", that.cnv.toSave.x);\n\t            options.data.append(that.options.name + \"-cropData[cropY]\", that.cnv.toSave.y);\n\t        });\n\t    }\n\t};\n\t\n\tCrop.prototype.die = function () {\n\t    this.removeEventListeners();\n\t    this.removeModalEventListeners();\n\t    delete this;\n\t};\n\t\n\texports.default = Crop;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tmodule.exports = { \"default\": __webpack_require__(4), __esModule: true };\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t__webpack_require__(5);\n\tmodule.exports = __webpack_require__(8).Object.assign;\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// 19.1.3.1 Object.assign(target, source)\n\tvar $export = __webpack_require__(6);\n\t\n\t$export($export.S + $export.F, 'Object', { assign: __webpack_require__(11) });\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar global = __webpack_require__(7),\n\t    core = __webpack_require__(8),\n\t    ctx = __webpack_require__(9),\n\t    PROTOTYPE = 'prototype';\n\t\n\tvar $export = function $export(type, name, source) {\n\t  var IS_FORCED = type & $export.F,\n\t      IS_GLOBAL = type & $export.G,\n\t      IS_STATIC = type & $export.S,\n\t      IS_PROTO = type & $export.P,\n\t      IS_BIND = type & $export.B,\n\t      IS_WRAP = type & $export.W,\n\t      exports = IS_GLOBAL ? core : core[name] || (core[name] = {}),\n\t      target = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE],\n\t      key,\n\t      own,\n\t      out;\n\t  if (IS_GLOBAL) source = name;\n\t  for (key in source) {\n\t    // contains in native\n\t    own = !IS_FORCED && target && key in target;\n\t    if (own && key in exports) continue;\n\t    // export native or passed\n\t    out = own ? target[key] : source[key];\n\t    // prevent global pollution for namespaces\n\t    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n\t    // bind timers to global for call from export context\n\t    : IS_BIND && own ? ctx(out, global)\n\t    // wrap global constructors for prevent change them in library\n\t    : IS_WRAP && target[key] == out ? function (C) {\n\t      var F = function F(param) {\n\t        return this instanceof C ? new C(param) : C(param);\n\t      };\n\t      F[PROTOTYPE] = C[PROTOTYPE];\n\t      return F;\n\t      // make static versions for prototype methods\n\t    }(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n\t    if (IS_PROTO) (exports[PROTOTYPE] || (exports[PROTOTYPE] = {}))[key] = out;\n\t  }\n\t};\n\t// type bitmap\n\t$export.F = 1; // forced\n\t$export.G = 2; // global\n\t$export.S = 4; // static\n\t$export.P = 8; // proto\n\t$export.B = 16; // bind\n\t$export.W = 32; // wrap\n\tmodule.exports = $export;\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\n\tvar global = module.exports = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n\tif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tvar core = module.exports = { version: '1.2.6' };\n\tif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// optional / simple context binding\n\tvar aFunction = __webpack_require__(10);\n\tmodule.exports = function (fn, that, length) {\n\t  aFunction(fn);\n\t  if (that === undefined) return fn;\n\t  switch (length) {\n\t    case 1:\n\t      return function (a) {\n\t        return fn.call(that, a);\n\t      };\n\t    case 2:\n\t      return function (a, b) {\n\t        return fn.call(that, a, b);\n\t      };\n\t    case 3:\n\t      return function (a, b, c) {\n\t        return fn.call(that, a, b, c);\n\t      };\n\t  }\n\t  return function () /* ...args */{\n\t    return fn.apply(that, arguments);\n\t  };\n\t};\n\n/***/ },\n/* 10 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tmodule.exports = function (it) {\n\t  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n\t  return it;\n\t};\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _keys = __webpack_require__(12);\n\t\n\tvar _keys2 = _interopRequireDefault(_keys);\n\t\n\tvar _symbol = __webpack_require__(19);\n\t\n\tvar _symbol2 = _interopRequireDefault(_symbol);\n\t\n\tvar _assign = __webpack_require__(3);\n\t\n\tvar _assign2 = _interopRequireDefault(_assign);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t// 19.1.2.1 Object.assign(target, source, ...)\n\tvar $ = __webpack_require__(23),\n\t    toObject = __webpack_require__(15),\n\t    IObject = __webpack_require__(35);\n\t\n\t// should work with symbols and should have deterministic property order (V8 bug)\n\tmodule.exports = __webpack_require__(18)(function () {\n\t  var a = _assign2.default,\n\t      A = {},\n\t      B = {},\n\t      S = (0, _symbol2.default)(),\n\t      K = 'abcdefghijklmnopqrst';\n\t  A[S] = 7;\n\t  K.split('').forEach(function (k) {\n\t    B[k] = k;\n\t  });\n\t  return a({}, A)[S] != 7 || (0, _keys2.default)(a({}, B)).join('') != K;\n\t}) ? function assign(target, source) {\n\t  // eslint-disable-line no-unused-vars\n\t  var T = toObject(target),\n\t      $$ = arguments,\n\t      $$len = $$.length,\n\t      index = 1,\n\t      getKeys = $.getKeys,\n\t      getSymbols = $.getSymbols,\n\t      isEnum = $.isEnum;\n\t  while ($$len > index) {\n\t    var S = IObject($$[index++]),\n\t        keys = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S),\n\t        length = keys.length,\n\t        j = 0,\n\t        key;\n\t    while (length > j) {\n\t      if (isEnum.call(S, key = keys[j++])) T[key] = S[key];\n\t    }\n\t  }\n\t  return T;\n\t} : _assign2.default;\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tmodule.exports = { \"default\": __webpack_require__(13), __esModule: true };\n\n/***/ },\n/* 13 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t__webpack_require__(14);\n\tmodule.exports = __webpack_require__(8).Object.keys;\n\n/***/ },\n/* 14 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// 19.1.2.14 Object.keys(O)\n\tvar toObject = __webpack_require__(15);\n\t\n\t__webpack_require__(17)('keys', function ($keys) {\n\t  return function keys(it) {\n\t    return $keys(toObject(it));\n\t  };\n\t});\n\n/***/ },\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// 7.1.13 ToObject(argument)\n\tvar defined = __webpack_require__(16);\n\tmodule.exports = function (it) {\n\t  return Object(defined(it));\n\t};\n\n/***/ },\n/* 16 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\t// 7.2.1 RequireObjectCoercible(argument)\n\tmodule.exports = function (it) {\n\t  if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n\t  return it;\n\t};\n\n/***/ },\n/* 17 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// most Object methods by ES6 should accept primitives\n\tvar $export = __webpack_require__(6),\n\t    core = __webpack_require__(8),\n\t    fails = __webpack_require__(18);\n\tmodule.exports = function (KEY, exec) {\n\t  var fn = (core.Object || {})[KEY] || Object[KEY],\n\t      exp = {};\n\t  exp[KEY] = exec(fn);\n\t  $export($export.S + $export.F * fails(function () {\n\t    fn(1);\n\t  }), 'Object', exp);\n\t};\n\n/***/ },\n/* 18 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tmodule.exports = function (exec) {\n\t  try {\n\t    return !!exec();\n\t  } catch (e) {\n\t    return true;\n\t  }\n\t};\n\n/***/ },\n/* 19 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tmodule.exports = { \"default\": __webpack_require__(20), __esModule: true };\n\n/***/ },\n/* 20 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t__webpack_require__(21);\n\t__webpack_require__(46);\n\tmodule.exports = __webpack_require__(8).Symbol;\n\n/***/ },\n/* 21 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t// ECMAScript 6 symbols shim\n\t\n\tvar _typeof2 = __webpack_require__(22);\n\t\n\tvar _typeof3 = _interopRequireDefault(_typeof2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar $ = __webpack_require__(23),\n\t    global = __webpack_require__(7),\n\t    has = __webpack_require__(24),\n\t    DESCRIPTORS = __webpack_require__(25),\n\t    $export = __webpack_require__(6),\n\t    redefine = __webpack_require__(26),\n\t    $fails = __webpack_require__(18),\n\t    shared = __webpack_require__(29),\n\t    setToStringTag = __webpack_require__(30),\n\t    uid = __webpack_require__(32),\n\t    wks = __webpack_require__(31),\n\t    keyOf = __webpack_require__(33),\n\t    $names = __webpack_require__(37),\n\t    enumKeys = __webpack_require__(41),\n\t    isArray = __webpack_require__(42),\n\t    anObject = __webpack_require__(43),\n\t    toIObject = __webpack_require__(34),\n\t    createDesc = __webpack_require__(28),\n\t    getDesc = $.getDesc,\n\t    setDesc = $.setDesc,\n\t    _create = $.create,\n\t    getNames = $names.get,\n\t    $Symbol = global.Symbol,\n\t    $JSON = global.JSON,\n\t    _stringify = $JSON && $JSON.stringify,\n\t    setter = false,\n\t    HIDDEN = wks('_hidden'),\n\t    isEnum = $.isEnum,\n\t    SymbolRegistry = shared('symbol-registry'),\n\t    AllSymbols = shared('symbols'),\n\t    useNative = typeof $Symbol == 'function',\n\t    ObjectProto = Object.prototype;\n\t\n\t// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\n\tvar setSymbolDesc = DESCRIPTORS && $fails(function () {\n\t  return _create(setDesc({}, 'a', {\n\t    get: function get() {\n\t      return setDesc(this, 'a', { value: 7 }).a;\n\t    }\n\t  })).a != 7;\n\t}) ? function (it, key, D) {\n\t  var protoDesc = getDesc(ObjectProto, key);\n\t  if (protoDesc) delete ObjectProto[key];\n\t  setDesc(it, key, D);\n\t  if (protoDesc && it !== ObjectProto) setDesc(ObjectProto, key, protoDesc);\n\t} : setDesc;\n\t\n\tvar wrap = function wrap(tag) {\n\t  var sym = AllSymbols[tag] = _create($Symbol.prototype);\n\t  sym._k = tag;\n\t  DESCRIPTORS && setter && setSymbolDesc(ObjectProto, tag, {\n\t    configurable: true,\n\t    set: function set(value) {\n\t      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n\t      setSymbolDesc(this, tag, createDesc(1, value));\n\t    }\n\t  });\n\t  return sym;\n\t};\n\t\n\tvar isSymbol = function isSymbol(it) {\n\t  return (typeof it === 'undefined' ? 'undefined' : (0, _typeof3.default)(it)) == 'symbol';\n\t};\n\t\n\tvar $defineProperty = function defineProperty(it, key, D) {\n\t  if (D && has(AllSymbols, key)) {\n\t    if (!D.enumerable) {\n\t      if (!has(it, HIDDEN)) setDesc(it, HIDDEN, createDesc(1, {}));\n\t      it[HIDDEN][key] = true;\n\t    } else {\n\t      if (has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false;\n\t      D = _create(D, { enumerable: createDesc(0, false) });\n\t    }return setSymbolDesc(it, key, D);\n\t  }return setDesc(it, key, D);\n\t};\n\tvar $defineProperties = function defineProperties(it, P) {\n\t  anObject(it);\n\t  var keys = enumKeys(P = toIObject(P)),\n\t      i = 0,\n\t      l = keys.length,\n\t      key;\n\t  while (l > i) {\n\t    $defineProperty(it, key = keys[i++], P[key]);\n\t  }return it;\n\t};\n\tvar $create = function create(it, P) {\n\t  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n\t};\n\tvar $propertyIsEnumerable = function propertyIsEnumerable(key) {\n\t  var E = isEnum.call(this, key);\n\t  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n\t};\n\tvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {\n\t  var D = getDesc(it = toIObject(it), key);\n\t  if (D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true;\n\t  return D;\n\t};\n\tvar $getOwnPropertyNames = function getOwnPropertyNames(it) {\n\t  var names = getNames(toIObject(it)),\n\t      result = [],\n\t      i = 0,\n\t      key;\n\t  while (names.length > i) {\n\t    if (!has(AllSymbols, key = names[i++]) && key != HIDDEN) result.push(key);\n\t  }return result;\n\t};\n\tvar $getOwnPropertySymbols = function getOwnPropertySymbols(it) {\n\t  var names = getNames(toIObject(it)),\n\t      result = [],\n\t      i = 0,\n\t      key;\n\t  while (names.length > i) {\n\t    if (has(AllSymbols, key = names[i++])) result.push(AllSymbols[key]);\n\t  }return result;\n\t};\n\tvar $stringify = function stringify(it) {\n\t  if (it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n\t  var args = [it],\n\t      i = 1,\n\t      $$ = arguments,\n\t      replacer,\n\t      $replacer;\n\t  while ($$.length > i) {\n\t    args.push($$[i++]);\n\t  }replacer = args[1];\n\t  if (typeof replacer == 'function') $replacer = replacer;\n\t  if ($replacer || !isArray(replacer)) replacer = function replacer(key, value) {\n\t    if ($replacer) value = $replacer.call(this, key, value);\n\t    if (!isSymbol(value)) return value;\n\t  };\n\t  args[1] = replacer;\n\t  return _stringify.apply($JSON, args);\n\t};\n\tvar buggyJSON = $fails(function () {\n\t  var S = $Symbol();\n\t  // MS Edge converts symbol values to JSON as {}\n\t  // WebKit converts symbol values to JSON as null\n\t  // V8 throws on boxed symbols\n\t  return _stringify([S]) != '[null]' || _stringify({ a: S }) != '{}' || _stringify(Object(S)) != '{}';\n\t});\n\t\n\t// 19.4.1.1 Symbol([description])\n\tif (!useNative) {\n\t  $Symbol = function _Symbol() {\n\t    if (isSymbol(this)) throw TypeError('Symbol is not a constructor');\n\t    return wrap(uid(arguments.length > 0 ? arguments[0] : undefined));\n\t  };\n\t  redefine($Symbol.prototype, 'toString', function toString() {\n\t    return this._k;\n\t  });\n\t\n\t  isSymbol = function isSymbol(it) {\n\t    return it instanceof $Symbol;\n\t  };\n\t\n\t  $.create = $create;\n\t  $.isEnum = $propertyIsEnumerable;\n\t  $.getDesc = $getOwnPropertyDescriptor;\n\t  $.setDesc = $defineProperty;\n\t  $.setDescs = $defineProperties;\n\t  $.getNames = $names.get = $getOwnPropertyNames;\n\t  $.getSymbols = $getOwnPropertySymbols;\n\t\n\t  if (DESCRIPTORS && !__webpack_require__(45)) {\n\t    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n\t  }\n\t}\n\t\n\tvar symbolStatics = {\n\t  // 19.4.2.1 Symbol.for(key)\n\t  'for': function _for(key) {\n\t    return has(SymbolRegistry, key += '') ? SymbolRegistry[key] : SymbolRegistry[key] = $Symbol(key);\n\t  },\n\t  // 19.4.2.5 Symbol.keyFor(sym)\n\t  keyFor: function keyFor(key) {\n\t    return keyOf(SymbolRegistry, key);\n\t  },\n\t  useSetter: function useSetter() {\n\t    setter = true;\n\t  },\n\t  useSimple: function useSimple() {\n\t    setter = false;\n\t  }\n\t};\n\t// 19.4.2.2 Symbol.hasInstance\n\t// 19.4.2.3 Symbol.isConcatSpreadable\n\t// 19.4.2.4 Symbol.iterator\n\t// 19.4.2.6 Symbol.match\n\t// 19.4.2.8 Symbol.replace\n\t// 19.4.2.9 Symbol.search\n\t// 19.4.2.10 Symbol.species\n\t// 19.4.2.11 Symbol.split\n\t// 19.4.2.12 Symbol.toPrimitive\n\t// 19.4.2.13 Symbol.toStringTag\n\t// 19.4.2.14 Symbol.unscopables\n\t$.each.call(('hasInstance,isConcatSpreadable,iterator,match,replace,search,' + 'species,split,toPrimitive,toStringTag,unscopables').split(','), function (it) {\n\t  var sym = wks(it);\n\t  symbolStatics[it] = useNative ? sym : wrap(sym);\n\t});\n\t\n\tsetter = true;\n\t\n\t$export($export.G + $export.W, { Symbol: $Symbol });\n\t\n\t$export($export.S, 'Symbol', symbolStatics);\n\t\n\t$export($export.S + $export.F * !useNative, 'Object', {\n\t  // 19.1.2.2 Object.create(O [, Properties])\n\t  create: $create,\n\t  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n\t  defineProperty: $defineProperty,\n\t  // 19.1.2.3 Object.defineProperties(O, Properties)\n\t  defineProperties: $defineProperties,\n\t  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n\t  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n\t  // 19.1.2.7 Object.getOwnPropertyNames(O)\n\t  getOwnPropertyNames: $getOwnPropertyNames,\n\t  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n\t  getOwnPropertySymbols: $getOwnPropertySymbols\n\t});\n\t\n\t// 24.3.2 JSON.stringify(value [, replacer [, space]])\n\t$JSON && $export($export.S + $export.F * (!useNative || buggyJSON), 'JSON', { stringify: $stringify });\n\t\n\t// 19.4.3.5 Symbol.prototype[@@toStringTag]\n\tsetToStringTag($Symbol, 'Symbol');\n\t// 20.2.1.9 Math[@@toStringTag]\n\tsetToStringTag(Math, 'Math', true);\n\t// 24.3.3 JSON[@@toStringTag]\n\tsetToStringTag(global.JSON, 'JSON', true);\n\n/***/ },\n/* 22 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _typeof2 = __webpack_require__(22);\n\t\n\tvar _typeof3 = _interopRequireDefault(_typeof2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar _Symbol = __webpack_require__(19)[\"default\"];\n\t\n\texports[\"default\"] = function (obj) {\n\t  return obj && obj.constructor === _Symbol ? \"symbol\" : typeof obj === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(obj);\n\t};\n\t\n\texports.__esModule = true;\n\n/***/ },\n/* 23 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tvar $Object = Object;\n\tmodule.exports = {\n\t  create: $Object.create,\n\t  getProto: $Object.getPrototypeOf,\n\t  isEnum: {}.propertyIsEnumerable,\n\t  getDesc: $Object.getOwnPropertyDescriptor,\n\t  setDesc: $Object.defineProperty,\n\t  setDescs: $Object.defineProperties,\n\t  getKeys: $Object.keys,\n\t  getNames: $Object.getOwnPropertyNames,\n\t  getSymbols: $Object.getOwnPropertySymbols,\n\t  each: [].forEach\n\t};\n\n/***/ },\n/* 24 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tvar hasOwnProperty = {}.hasOwnProperty;\n\tmodule.exports = function (it, key) {\n\t  return hasOwnProperty.call(it, key);\n\t};\n\n/***/ },\n/* 25 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// Thank's IE8 for his funny defineProperty\n\tmodule.exports = !__webpack_require__(18)(function () {\n\t  return Object.defineProperty({}, 'a', { get: function get() {\n\t      return 7;\n\t    } }).a != 7;\n\t});\n\n/***/ },\n/* 26 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tmodule.exports = __webpack_require__(27);\n\n/***/ },\n/* 27 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar $ = __webpack_require__(23),\n\t    createDesc = __webpack_require__(28);\n\tmodule.exports = __webpack_require__(25) ? function (object, key, value) {\n\t  return $.setDesc(object, key, createDesc(1, value));\n\t} : function (object, key, value) {\n\t  object[key] = value;\n\t  return object;\n\t};\n\n/***/ },\n/* 28 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tmodule.exports = function (bitmap, value) {\n\t  return {\n\t    enumerable: !(bitmap & 1),\n\t    configurable: !(bitmap & 2),\n\t    writable: !(bitmap & 4),\n\t    value: value\n\t  };\n\t};\n\n/***/ },\n/* 29 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar global = __webpack_require__(7),\n\t    SHARED = '__core-js_shared__',\n\t    store = global[SHARED] || (global[SHARED] = {});\n\tmodule.exports = function (key) {\n\t  return store[key] || (store[key] = {});\n\t};\n\n/***/ },\n/* 30 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar def = __webpack_require__(23).setDesc,\n\t    has = __webpack_require__(24),\n\t    TAG = __webpack_require__(31)('toStringTag');\n\t\n\tmodule.exports = function (it, tag, stat) {\n\t  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });\n\t};\n\n/***/ },\n/* 31 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar store = __webpack_require__(29)('wks'),\n\t    uid = __webpack_require__(32),\n\t    _Symbol = __webpack_require__(7).Symbol;\n\tmodule.exports = function (name) {\n\t  return store[name] || (store[name] = _Symbol && _Symbol[name] || (_Symbol || uid)('Symbol.' + name));\n\t};\n\n/***/ },\n/* 32 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tvar id = 0,\n\t    px = Math.random();\n\tmodule.exports = function (key) {\n\t  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n\t};\n\n/***/ },\n/* 33 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar $ = __webpack_require__(23),\n\t    toIObject = __webpack_require__(34);\n\tmodule.exports = function (object, el) {\n\t  var O = toIObject(object),\n\t      keys = $.getKeys(O),\n\t      length = keys.length,\n\t      index = 0,\n\t      key;\n\t  while (length > index) {\n\t    if (O[key = keys[index++]] === el) return key;\n\t  }\n\t};\n\n/***/ },\n/* 34 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// to indexed object, toObject with fallback for non-array-like ES3 strings\n\tvar IObject = __webpack_require__(35),\n\t    defined = __webpack_require__(16);\n\tmodule.exports = function (it) {\n\t  return IObject(defined(it));\n\t};\n\n/***/ },\n/* 35 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// fallback for non-array-like ES3 and non-enumerable old V8 strings\n\tvar cof = __webpack_require__(36);\n\tmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n\t  return cof(it) == 'String' ? it.split('') : Object(it);\n\t};\n\n/***/ },\n/* 36 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tvar toString = {}.toString;\n\t\n\tmodule.exports = function (it) {\n\t  return toString.call(it).slice(8, -1);\n\t};\n\n/***/ },\n/* 37 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _getOwnPropertyNames = __webpack_require__(38);\n\t\n\tvar _getOwnPropertyNames2 = _interopRequireDefault(_getOwnPropertyNames);\n\t\n\tvar _typeof2 = __webpack_require__(22);\n\t\n\tvar _typeof3 = _interopRequireDefault(_typeof2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\n\tvar toIObject = __webpack_require__(34),\n\t    getNames = __webpack_require__(23).getNames,\n\t    toString = {}.toString;\n\t\n\tvar windowNames = (typeof window === 'undefined' ? 'undefined' : (0, _typeof3.default)(window)) == 'object' && _getOwnPropertyNames2.default ? (0, _getOwnPropertyNames2.default)(window) : [];\n\t\n\tvar getWindowNames = function getWindowNames(it) {\n\t  try {\n\t    return getNames(it);\n\t  } catch (e) {\n\t    return windowNames.slice();\n\t  }\n\t};\n\t\n\tmodule.exports.get = function getOwnPropertyNames(it) {\n\t  if (windowNames && toString.call(it) == '[object Window]') return getWindowNames(it);\n\t  return getNames(toIObject(it));\n\t};\n\n/***/ },\n/* 38 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tmodule.exports = { \"default\": __webpack_require__(39), __esModule: true };\n\n/***/ },\n/* 39 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar $ = __webpack_require__(23);\n\t__webpack_require__(40);\n\tmodule.exports = function getOwnPropertyNames(it) {\n\t  return $.getNames(it);\n\t};\n\n/***/ },\n/* 40 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// 19.1.2.7 Object.getOwnPropertyNames(O)\n\t__webpack_require__(17)('getOwnPropertyNames', function () {\n\t  return __webpack_require__(37).get;\n\t});\n\n/***/ },\n/* 41 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// all enumerable object keys, includes symbols\n\tvar $ = __webpack_require__(23);\n\tmodule.exports = function (it) {\n\t  var keys = $.getKeys(it),\n\t      getSymbols = $.getSymbols;\n\t  if (getSymbols) {\n\t    var symbols = getSymbols(it),\n\t        isEnum = $.isEnum,\n\t        i = 0,\n\t        key;\n\t    while (symbols.length > i) {\n\t      if (isEnum.call(it, key = symbols[i++])) keys.push(key);\n\t    }\n\t  }\n\t  return keys;\n\t};\n\n/***/ },\n/* 42 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t// 7.2.2 IsArray(argument)\n\tvar cof = __webpack_require__(36);\n\tmodule.exports = Array.isArray || function (arg) {\n\t  return cof(arg) == 'Array';\n\t};\n\n/***/ },\n/* 43 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar isObject = __webpack_require__(44);\n\tmodule.exports = function (it) {\n\t  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n\t  return it;\n\t};\n\n/***/ },\n/* 44 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _typeof2 = __webpack_require__(22);\n\t\n\tvar _typeof3 = _interopRequireDefault(_typeof2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tmodule.exports = function (it) {\n\t  return (typeof it === 'undefined' ? 'undefined' : (0, _typeof3.default)(it)) === 'object' ? it !== null : typeof it === 'function';\n\t};\n\n/***/ },\n/* 45 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tmodule.exports = true;\n\n/***/ },\n/* 46 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\n/***/ },\n/* 47 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tmodule.exports = { \"default\": __webpack_require__(48), __esModule: true };\n\n/***/ },\n/* 48 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar $ = __webpack_require__(23);\n\tmodule.exports = function create(P, D) {\n\t  return $.create(P, D);\n\t};\n\n/***/ },\n/* 49 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=sf-crop-modal><div class=sf-crop-modal-body><div class=sf-crop-container><div class=sf-crop-image-original></div><div class=sf-crop-wrapper><div class=sf-crop-dimmers-container><div class=dimmers><div class=\\\"dimmer dimmer-n\\\"></div><div class=\\\"dimmer dimmer-e\\\"></div><div class=\\\"dimmer dimmer-s\\\"></div><div class=\\\"dimmer dimmer-w\\\"></div></div></div><div class=sf-crop-elements><div class=\\\"handler handler-n\\\"></div><div class=\\\"handler handler-ne\\\"></div><div class=\\\"handler handler-e\\\"></div><div class=\\\"handler handler-se\\\"></div><div class=\\\"handler handler-s\\\"></div><div class=\\\"handler handler-sw\\\"></div><div class=\\\"handler handler-w\\\"></div><div class=\\\"handler handler-nw\\\"></div></div></div></div></div><div class=sf-crop-modal-header><div class=sf-crop-cropper-info><div class=sf-crop-ratio></div><div class=sf-crop-orig-size></div><div class=sf-crop-cropped-size></div></div></div><div class=sf-crop-modal-footer><button class=\\\"sf-crop-close btn\\\"></button> <button type=button class=\\\"btn sf-crop-save\\\"></button></div></div><div class=sf-crop-backdrop></div>\";\n\n/***/ },\n/* 50 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t// style-loader: Adds some css to the DOM by adding a <style> tag\n\t\n\t// load the styles\n\tvar content = __webpack_require__(51);\n\tif(typeof content === 'string') content = [[module.id, content, '']];\n\t// add the styles to the DOM\n\tvar update = __webpack_require__(53)(content, {});\n\tif(content.locals) module.exports = content.locals;\n\t// Hot Module Replacement\n\tif(false) {\n\t\t// When the styles change, update the <style> tags\n\t\tif(!content.locals) {\n\t\t\tmodule.hot.accept(\"!!./../node_modules/css-loader/index.js?minimize!./../node_modules/less-loader/index.js!./crop.less\", function() {\n\t\t\t\tvar newContent = require(\"!!./../node_modules/css-loader/index.js?minimize!./../node_modules/less-loader/index.js!./crop.less\");\n\t\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\t\tupdate(newContent);\n\t\t\t});\n\t\t}\n\t\t// When the module is disposed, remove the <style> tags\n\t\tmodule.hot.dispose(function() { update(); });\n\t}\n\n/***/ },\n/* 51 */\n/***/ function(module, exports, __webpack_require__) {\n\n\texports = module.exports = __webpack_require__(52)();\n\t// imports\n\t\n\t\n\t// module\n\texports.push([module.id, \".sf-crop-modal{position:fixed;left:50%;top:50%;transform:translate(-50%,-50%);padding:20px;background-color:#fff;overflow:auto;z-index:1000;width:auto;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:0;transition:opacity .3s ease;box-shadow:0 16px 28px 0 rgba(0,0,0,.22),0 25px 55px 0 rgba(0,0,0,.21)}.sf-crop-modal.touch-device .handler:before{content:'';width:30px;height:30px;display:block;left:50%;top:50%;position:relative;transform:translate(-50%,-50%)}.sf-crop-modal.visible{opacity:1;z-index:1001}.sf-crop-modal .sf-crop-modal-footer{padding-top:20px;text-align:right}.sf-crop-modal .btn{display:inline-block;margin:0 0 0 10px;border-width:0;border-radius:2px;box-shadow:0 0 1px rgba(0,0,0,.2);color:#4a4a4a;background:#fff;outline:none}.sf-crop-modal .btn:focus,.sf-crop-modal .btn:hover{background-color:#efefef}.sf-crop-modal .btn.sf-crop-save{box-shadow:0 0 1px rgba(0,0,0,.6)}.sf-crop-modal .btn.sf-crop-close{color:#8a8a8a}.sf-crop-modal .sf-crop-container{position:relative}.sf-crop-modal .sf-crop-container canvas{display:block}.sf-crop-modal .sf-crop-wrapper{position:absolute;top:0;bottom:0;left:0;right:0}.sf-crop-modal .sf-crop-wrapper .sf-crop-elements{position:absolute;border:1px dashed #000;top:0;width:100%;height:100%;max-width:100%;max-height:100%;cursor:move}.sf-crop-modal .sf-crop-wrapper .sf-crop-dimmers-container{position:absolute;overflow:hidden;top:0;bottom:0;left:0;right:0}.sf-crop-modal .sf-crop-wrapper .dimmers{position:absolute}.sf-crop-modal .sf-crop-wrapper .dimmer{position:absolute;width:1000px;height:1000px;background-color:#000;opacity:.3}.sf-crop-modal .sf-crop-wrapper .dimmer.dimmer-n{bottom:100%;left:0}.sf-crop-modal .sf-crop-wrapper .dimmer.dimmer-e{left:100%;top:0}.sf-crop-modal .sf-crop-wrapper .dimmer.dimmer-s{top:100%;right:0}.sf-crop-modal .sf-crop-wrapper .dimmer.dimmer-w{bottom:0;right:100%}.sf-crop-modal .sf-crop-wrapper .handler{position:absolute;border:1px solid #333;width:10px;height:10px;background:#fff;opacity:.5}.sf-crop-modal .sf-crop-wrapper .handler.handler-n{top:0;left:50%;margin-top:-6px;margin-left:-6px;cursor:n-resize}.sf-crop-modal .sf-crop-wrapper .handler.handler-ne{top:0;right:0;margin-top:-6px;margin-right:-6px;cursor:ne-resize}.sf-crop-modal .sf-crop-wrapper .handler.handler-e{top:50%;right:0;margin-top:-6px;margin-right:-6px;cursor:e-resize}.sf-crop-modal .sf-crop-wrapper .handler.handler-se{bottom:0;right:0;margin-bottom:-6px;margin-right:-6px;cursor:se-resize}.sf-crop-modal .sf-crop-wrapper .handler.handler-s{bottom:0;left:50%;margin-bottom:-6px;margin-left:-6px;cursor:s-resize}.sf-crop-modal .sf-crop-wrapper .handler.handler-sw{bottom:0;left:0;margin-bottom:-6px;margin-left:-6px;cursor:sw-resize}.sf-crop-modal .sf-crop-wrapper .handler.handler-w{top:50%;left:0;margin-top:-6px;margin-left:-6px;cursor:w-resize}.sf-crop-modal .sf-crop-wrapper .handler.handler-nw{top:0;left:0;margin-top:-6px;margin-left:-6px;cursor:nw-resize}.sf-crop-modal .sf-crop-modal-header .sf-crop-cropper-info{font-size:12px}.sf-crop-modal .sf-crop-modal-header .sf-crop-close{position:absolute;background:transparent;padding:0;top:10px;right:15px;font-size:24px;border:none;opacity:.2;cursor:pointer}.sf-crop-modal .sf-crop-modal-header .sf-crop-close:hover{opacity:1}.sf-crop-backdrop{top:0;left:0;position:fixed;background-color:#000;width:100vw;height:100vh;opacity:0;transition:opacity .3s ease}.sf-crop-backdrop.visible{opacity:.4;z-index:1000}\", \"\"]);\n\t\n\t// exports\n\n\n/***/ },\n/* 52 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\t/*\r\n\t\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\t\tAuthor Tobias Koppers @sokra\r\n\t*/\n\t// css base code, injected by the css-loader\n\tmodule.exports = function () {\n\t\tvar list = [];\n\t\n\t\t// return the list of modules as css string\n\t\tlist.toString = function toString() {\n\t\t\tvar result = [];\n\t\t\tfor (var i = 0; i < this.length; i++) {\n\t\t\t\tvar item = this[i];\n\t\t\t\tif (item[2]) {\n\t\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\n\t\t\t\t} else {\n\t\t\t\t\tresult.push(item[1]);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn result.join(\"\");\n\t\t};\n\t\n\t\t// import a list of modules into the list\n\t\tlist.i = function (modules, mediaQuery) {\n\t\t\tif (typeof modules === \"string\") modules = [[null, modules, \"\"]];\n\t\t\tvar alreadyImportedModules = {};\n\t\t\tfor (var i = 0; i < this.length; i++) {\n\t\t\t\tvar id = this[i][0];\n\t\t\t\tif (typeof id === \"number\") alreadyImportedModules[id] = true;\n\t\t\t}\n\t\t\tfor (i = 0; i < modules.length; i++) {\n\t\t\t\tvar item = modules[i];\n\t\t\t\t// skip already imported module\n\t\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\t\tif (typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\t\tif (mediaQuery && !item[2]) {\n\t\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t\t} else if (mediaQuery) {\n\t\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t\t}\n\t\t\t\t\tlist.push(item);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\treturn list;\n\t};\n\n/***/ },\n/* 53 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\r\n\t\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\t\tAuthor Tobias Koppers @sokra\r\n\t*/\r\n\tvar stylesInDom = {},\r\n\t\tmemoize = function(fn) {\r\n\t\t\tvar memo;\r\n\t\t\treturn function () {\r\n\t\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\r\n\t\t\t\treturn memo;\r\n\t\t\t};\r\n\t\t},\r\n\t\tisOldIE = memoize(function() {\r\n\t\t\treturn /msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase());\r\n\t\t}),\r\n\t\tgetHeadElement = memoize(function () {\r\n\t\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\r\n\t\t}),\r\n\t\tsingletonElement = null,\r\n\t\tsingletonCounter = 0,\r\n\t\tstyleElementsInsertedAtTop = [];\r\n\t\r\n\tmodule.exports = function(list, options) {\r\n\t\tif(false) {\r\n\t\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t\t}\r\n\t\r\n\t\toptions = options || {};\r\n\t\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\r\n\t\t// tags it will allow on a page\r\n\t\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\r\n\t\r\n\t\t// By default, add <style> tags to the bottom of <head>.\r\n\t\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\r\n\t\r\n\t\tvar styles = listToStyles(list);\r\n\t\taddStylesToDom(styles, options);\r\n\t\r\n\t\treturn function update(newList) {\r\n\t\t\tvar mayRemove = [];\r\n\t\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\t\tvar item = styles[i];\r\n\t\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\t\tdomStyle.refs--;\r\n\t\t\t\tmayRemove.push(domStyle);\r\n\t\t\t}\r\n\t\t\tif(newList) {\r\n\t\t\t\tvar newStyles = listToStyles(newList);\r\n\t\t\t\taddStylesToDom(newStyles, options);\r\n\t\t\t}\r\n\t\t\tfor(var i = 0; i < mayRemove.length; i++) {\r\n\t\t\t\tvar domStyle = mayRemove[i];\r\n\t\t\t\tif(domStyle.refs === 0) {\r\n\t\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\r\n\t\t\t\t\t\tdomStyle.parts[j]();\r\n\t\t\t\t\tdelete stylesInDom[domStyle.id];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\t\r\n\tfunction addStylesToDom(styles, options) {\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\tif(domStyle) {\r\n\t\t\t\tdomStyle.refs++;\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t\t}\r\n\t\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tvar parts = [];\r\n\t\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\t\tparts.push(addStyle(item.parts[j], options));\r\n\t\t\t\t}\r\n\t\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction listToStyles(list) {\r\n\t\tvar styles = [];\r\n\t\tvar newStyles = {};\r\n\t\tfor(var i = 0; i < list.length; i++) {\r\n\t\t\tvar item = list[i];\r\n\t\t\tvar id = item[0];\r\n\t\t\tvar css = item[1];\r\n\t\t\tvar media = item[2];\r\n\t\t\tvar sourceMap = item[3];\r\n\t\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\r\n\t\t\tif(!newStyles[id])\r\n\t\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\t\telse\r\n\t\t\t\tnewStyles[id].parts.push(part);\r\n\t\t}\r\n\t\treturn styles;\r\n\t}\r\n\t\r\n\tfunction insertStyleElement(options, styleElement) {\r\n\t\tvar head = getHeadElement();\r\n\t\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\r\n\t\tif (options.insertAt === \"top\") {\r\n\t\t\tif(!lastStyleElementInsertedAtTop) {\r\n\t\t\t\thead.insertBefore(styleElement, head.firstChild);\r\n\t\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\r\n\t\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\r\n\t\t\t} else {\r\n\t\t\t\thead.appendChild(styleElement);\r\n\t\t\t}\r\n\t\t\tstyleElementsInsertedAtTop.push(styleElement);\r\n\t\t} else if (options.insertAt === \"bottom\") {\r\n\t\t\thead.appendChild(styleElement);\r\n\t\t} else {\r\n\t\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction removeStyleElement(styleElement) {\r\n\t\tstyleElement.parentNode.removeChild(styleElement);\r\n\t\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\r\n\t\tif(idx >= 0) {\r\n\t\t\tstyleElementsInsertedAtTop.splice(idx, 1);\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction createStyleElement(options) {\r\n\t\tvar styleElement = document.createElement(\"style\");\r\n\t\tstyleElement.type = \"text/css\";\r\n\t\tinsertStyleElement(options, styleElement);\r\n\t\treturn styleElement;\r\n\t}\r\n\t\r\n\tfunction createLinkElement(options) {\r\n\t\tvar linkElement = document.createElement(\"link\");\r\n\t\tlinkElement.rel = \"stylesheet\";\r\n\t\tinsertStyleElement(options, linkElement);\r\n\t\treturn linkElement;\r\n\t}\r\n\t\r\n\tfunction addStyle(obj, options) {\r\n\t\tvar styleElement, update, remove;\r\n\t\r\n\t\tif (options.singleton) {\r\n\t\t\tvar styleIndex = singletonCounter++;\r\n\t\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\r\n\t\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\r\n\t\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\r\n\t\t} else if(obj.sourceMap &&\r\n\t\t\ttypeof URL === \"function\" &&\r\n\t\t\ttypeof URL.createObjectURL === \"function\" &&\r\n\t\t\ttypeof URL.revokeObjectURL === \"function\" &&\r\n\t\t\ttypeof Blob === \"function\" &&\r\n\t\t\ttypeof btoa === \"function\") {\r\n\t\t\tstyleElement = createLinkElement(options);\r\n\t\t\tupdate = updateLink.bind(null, styleElement);\r\n\t\t\tremove = function() {\r\n\t\t\t\tremoveStyleElement(styleElement);\r\n\t\t\t\tif(styleElement.href)\r\n\t\t\t\t\tURL.revokeObjectURL(styleElement.href);\r\n\t\t\t};\r\n\t\t} else {\r\n\t\t\tstyleElement = createStyleElement(options);\r\n\t\t\tupdate = applyToTag.bind(null, styleElement);\r\n\t\t\tremove = function() {\r\n\t\t\t\tremoveStyleElement(styleElement);\r\n\t\t\t};\r\n\t\t}\r\n\t\r\n\t\tupdate(obj);\r\n\t\r\n\t\treturn function updateStyle(newObj) {\r\n\t\t\tif(newObj) {\r\n\t\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\r\n\t\t\t\t\treturn;\r\n\t\t\t\tupdate(obj = newObj);\r\n\t\t\t} else {\r\n\t\t\t\tremove();\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\t\r\n\tvar replaceText = (function () {\r\n\t\tvar textStore = [];\r\n\t\r\n\t\treturn function (index, replacement) {\r\n\t\t\ttextStore[index] = replacement;\r\n\t\t\treturn textStore.filter(Boolean).join('\\n');\r\n\t\t};\r\n\t})();\r\n\t\r\n\tfunction applyToSingletonTag(styleElement, index, remove, obj) {\r\n\t\tvar css = remove ? \"\" : obj.css;\r\n\t\r\n\t\tif (styleElement.styleSheet) {\r\n\t\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\r\n\t\t} else {\r\n\t\t\tvar cssNode = document.createTextNode(css);\r\n\t\t\tvar childNodes = styleElement.childNodes;\r\n\t\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\r\n\t\t\tif (childNodes.length) {\r\n\t\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\r\n\t\t\t} else {\r\n\t\t\t\tstyleElement.appendChild(cssNode);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction applyToTag(styleElement, obj) {\r\n\t\tvar css = obj.css;\r\n\t\tvar media = obj.media;\r\n\t\tvar sourceMap = obj.sourceMap;\r\n\t\r\n\t\tif(media) {\r\n\t\t\tstyleElement.setAttribute(\"media\", media)\r\n\t\t}\r\n\t\r\n\t\tif(styleElement.styleSheet) {\r\n\t\t\tstyleElement.styleSheet.cssText = css;\r\n\t\t} else {\r\n\t\t\twhile(styleElement.firstChild) {\r\n\t\t\t\tstyleElement.removeChild(styleElement.firstChild);\r\n\t\t\t}\r\n\t\t\tstyleElement.appendChild(document.createTextNode(css));\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction updateLink(linkElement, obj) {\r\n\t\tvar css = obj.css;\r\n\t\tvar media = obj.media;\r\n\t\tvar sourceMap = obj.sourceMap;\r\n\t\r\n\t\tif(sourceMap) {\r\n\t\t\t// http://stackoverflow.com/a/26603875\r\n\t\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\r\n\t\t}\r\n\t\r\n\t\tvar blob = new Blob([css], { type: \"text/css\" });\r\n\t\r\n\t\tvar oldSrc = linkElement.href;\r\n\t\r\n\t\tlinkElement.href = URL.createObjectURL(blob);\r\n\t\r\n\t\tif(oldSrc)\r\n\t\t\tURL.revokeObjectURL(oldSrc);\r\n\t}\r\n\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** sf.crop.min.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 1a1eab7cecfd1b15b034\n **/","\"use strict\";\r\nimport sf from 'sf';//resolved in webpack's \"externals\"\r\nimport Crop from './crop';\r\n\r\nrequire(\"style!css?minimize!less!./crop.less\");\r\n\r\nsf.instancesController.registerInstanceType(Crop,\"js-sf-cropper\");\r\nmodule.exports = Crop;   // ES6 default export will not expose us as global\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"sf\"\n ** module id = 1\n ** module chunks = 0 1\n **/","\"use strict\";\r\n\r\nimport sf from 'sf';//resolved in webpack's \"externals\"\r\n\r\nvar externals = {\r\n    template: require(\"html!./template.html\")\r\n};\r\nvar Crop = function (sf, node, options) {\r\n    this._construct(sf, node, options);\r\n};\r\n\r\n/**\r\n * @lends sf.Form.prototype\r\n */\r\nCrop.prototype = Object.create(sf.modules.core.BaseDOMConstructor.prototype);\r\n\r\n/**\r\n * Name to register\r\n * @type {string}\r\n */\r\nCrop.prototype.name = \"crop\";\r\n\r\nCrop.prototype._construct = function (sf, node, options) {\r\n\r\n    this.init(sf, node, options);//call parent\r\n\r\n    this.options.template = this.options.template || externals.template;\r\n\r\n    var that = this,\r\n        noop = function () {\r\n        },\r\n        parser = new DOMParser();\r\n\r\n    if (options) {//if we pass options extend all options by passed options\r\n        this.options = Object.assign(this.options, options);\r\n    }\r\n\r\n    if (typeof this.options.info == \"string\")\r\n        this.options.info = this.options.info.split(\",\");\r\n\r\n    if (this.options.ratio)\r\n        this.options.ratio = parseFloat(this.options.ratio);//just to be sure about number format, not string\r\n    if (typeof this.options.onFileProcessed != \"function\")\r\n        this.options.onFileProcessed = noop;\r\n\r\n    //elements\r\n    this.els = {\r\n        node: node,\r\n        input: node.tagName === \"INPUT\" ? node : node.getElementsByClassName(\"sf-crop-input\")[0],\r\n        modal: parser.parseFromString(this.options.template, \"text/html\").firstChild.lastChild.getElementsByClassName('sf-crop-modal')[0],\r\n        backdrop: parser.parseFromString(this.options.template, \"text/html\").firstChild.lastChild.getElementsByClassName('sf-crop-backdrop')[0]\r\n    };\r\n    if (('ontouchstart' in window) || (navigator.MaxTouchPoints > 0) || (navigator.msMaxTouchPoints > 0)) this.els.modal.classList.add('touch-device');\r\n\r\n    if (this.options.fileNameSelector) {\r\n        this.options.fileNameSelector.charAt(0) === \" \"\r\n            ? this.els.filenameContainer = document.querySelector(this.options.fileNameSelector)\r\n            : this.els.filenameContainer = (node.tagName === \"INPUT\" ? node.parentNode : node).querySelector(this.options.fileNameSelector);\r\n    }\r\n\r\n    if (this.options.preview) {this.els.preview = document.querySelector(this.options.preview);} else {\r\n        console.warn('Cropper: no preview provided');\r\n    }\r\n    if (this.options.adjust) {\r\n        this.els.adjust = this.options.adjust.charAt(0) === \" \"\r\n            ? document.querySelector(this.options.adjust)\r\n            : (node.tagName === \"INPUT\" ? node.parentNode : node).querySelector(this.options.adjust);\r\n    }\r\n\r\n    if (!this.options.ajaximage && !this.els.input) {\r\n        console.warn('Provide file-input to use cropper or load image with ajax (with data-ajaximage attr)');\r\n    }\r\n    this.els.cropWrapper = this.els.modal.getElementsByClassName(\"sf-crop-wrapper\")[0];\r\n    this.els.imageOriginal = this.els.modal.getElementsByClassName(\"sf-crop-image-original\")[0];\r\n    this.els.cropElements = this.els.modal.getElementsByClassName(\"sf-crop-elements\")[0];\r\n    this.els.cropSave = this.els.modal.getElementsByClassName(\"sf-crop-save\")[0];\r\n    if (this.els.cropSave) {\r\n        this.els.cropSave.innerHTML = this.options.saveBtnText;\r\n        this.options.customBtnClass ? this.els.cropSave.classList.add(this.options.customBtnClass) : '';\r\n    }\r\n    this.els.closePopup = this.els.modal.getElementsByClassName(\"sf-crop-close\")[0];\r\n    if (this.els.closePopup) {\r\n        this.els.closePopup.innerHTML = this.options.closeBtnText;\r\n        this.options.customBtnClass ? this.els.closePopup.classList.add(this.options.customBtnClass) : '';\r\n    }\r\n    this.els.cropInfo = {\r\n        ratio: this.els.modal.getElementsByClassName(\"sf-crop-ratio\")[0],\r\n        croppedSize: this.els.modal.getElementsByClassName(\"sf-crop-cropped-size\")[0],\r\n        origSize: this.els.modal.getElementsByClassName(\"sf-crop-orig-size\")[0]\r\n    };\r\n\r\n    this.els.handlers = {\r\n        n: this.els.modal.getElementsByClassName(\"handler-N\")[0],\r\n        ne: this.els.modal.getElementsByClassName(\"handler-NE\")[0],\r\n        e: this.els.modal.getElementsByClassName(\"handler-E\")[0],\r\n        se: this.els.modal.getElementsByClassName(\"handler-SE\")[0],\r\n        s: this.els.modal.getElementsByClassName(\"handler-S\")[0],\r\n        sw: this.els.modal.getElementsByClassName(\"handler-SW\")[0],\r\n        w: this.els.modal.getElementsByClassName(\"handler-W\")[0],\r\n        nw: this.els.modal.getElementsByClassName(\"handler-NW\")[0],\r\n        current: null\r\n    };\r\n\r\n    this.els.dimmers = {\r\n        el: this.els.modal.getElementsByClassName(\"dimmers\")[0],\r\n        n: this.els.modal.getElementsByClassName(\"dimmer-N\")[0],\r\n        e: this.els.modal.getElementsByClassName(\"dimmer-E\")[0],\r\n        s: this.els.modal.getElementsByClassName(\"dimmer-S\")[0],\r\n        w: this.els.modal.getElementsByClassName(\"dimmer-W\")[0]\r\n    };\r\n\r\n    this.els.form = this.els.input ? this.els.input.form : '';\r\n    this.form = sf.instancesController.getInstance(\"form\", this.els.form);\r\n\r\n    this.reset();\r\n    this.addEventListeners();\r\n    this.attachData();\r\n\r\n    if (this.options.ajaximage) {\r\n        if (this.els.input && this.els.input !== this.els.node) this.els.input.parentNode.removeChild(this.els.input); //this check is for not to remove cropper's node and not to trigger die method\r\n        var xhr = new XMLHttpRequest();\r\n        xhr.onreadystatechange = function () {\r\n            if (this.readyState == 4 && this.status == 200) {\r\n                var img = new Image();\r\n                var url = window.URL || window.webkitURL;\r\n                if (this.response instanceof Blob) {\r\n                    img.src = url.createObjectURL(this.response);\r\n                    that.handleFileSelect(this.response);\r\n                    //that.els.adjust.style.display = 'inline-block';\r\n                } else {\r\n                    that.els.adjust.parentNode.removeChild(that.els.adjust);\r\n                }\r\n            }\r\n        };\r\n        xhr.open('GET', that.options.ajaximage);\r\n        xhr.responseType = 'blob';\r\n        xhr.send();\r\n    }\r\n    //IE10 click to move doesn't work. looks like click goes through cropper to background picture =(\r\n    if (navigator.appVersion.indexOf(\"MSIE 10\") != -1)\r\n        this.els.cropElements.style.backgroundColor = \"rgba(255,255,255,0.01\";\r\n};\r\n\r\n\r\n/**\r\n * @override\r\n * @inheritDoc\r\n * @enum {string}\r\n */\r\nCrop.prototype.optionsToGrab  = {\r\n    /**\r\n     *  How to send: cropped or full size with coordinates to crop on server <b>Default: \"cropped\"</b> <i>Optional: \"full\"</i>\r\n     */\r\n    format: {\r\n        value: \"cropped\",\r\n        domAttr: \"data-format\"\r\n    },\r\n    /**\r\n     *  Preloading of image  <b>Default: \"false\"</b> <i>Optional: url of image to preload</i>\r\n     */\r\n    ajaximage: {\r\n        value: false,\r\n        domAttr: \"data-ajax-image\"\r\n    },\r\n    /**\r\n     *  Pass custom html template\r\n     */\r\n    template: {\r\n        domAttr: \"data-template\"\r\n    },\r\n    /**\r\n     *  Request address for submitting (if there is no form) <b>Default: \"false\"</b> <i>Optional: request URL</i>\r\n     */\r\n    ajaxAddress: {\r\n        value: false,\r\n        domAttr: \"data-ajax-address\"\r\n    },\r\n    /**\r\n     *  Locked aspect ratio <b>Default: false</b>\r\n     */\r\n    ratio: {\r\n        value: false,\r\n        domAttr: \"data-ratio\"\r\n    },\r\n    /**\r\n     *  Node selector to place filename. If starts with space - global search of node (document) otherwise inside the node (if the node is input, then from parent node)\r\n     */\r\n    fileNameSelector: {\r\n        domAttr: \"data-filename-selector\"\r\n    },\r\n    /**\r\n     *  What info to show <b>Default: []</b></br>\r\n     *  <b>Example: </b>data-info=\"ratio,origSize,croppedSize\"</br>\r\n     */\r\n    info: {\r\n        value: [],\r\n        domAttr: \"data-info\"\r\n    },\r\n    /**\r\n     *  Selector of preview element <b>Default: \"\"</b>\r\n     */\r\n    preview: {\r\n        value: \"\",\r\n        domAttr: \"data-preview\"\r\n    },\r\n    /**\r\n     *  Save button text <b>Default: \"Save\"</b>\r\n     */\r\n    saveBtnText: {\r\n        value: \"Save\",\r\n        domAttr: \"data-save-btn-text\"\r\n    },\r\n    /**\r\n     *  Save button text <b>Default: \"Close\"</b>\r\n     */\r\n    closeBtnText: {\r\n        value: \"Close\",\r\n        domAttr: \"data-close-btn-text\"\r\n    },\r\n    /**\r\n     *  Pass custom class to btns <b>Default: \"\"</b>\r\n     */\r\n    customBtnClass: {\r\n        domAttr: \"data-custom-btn-class\"\r\n    },\r\n    /**\r\n     *  Selector of element which triggers crop-modal <b>Default: \"\"</b>  If starts with space - global search of node (document) otherwise inside the node (if the node is input, then from parent node)\r\n     */\r\n    adjust: {\r\n        value: \"\",\r\n        domAttr: \"data-adjust\"\r\n    },\r\n    /**\r\n     *  Name for formData <b>Default: \"cropped\"</b>\r\n     */\r\n    name: {\r\n        value: \"cropped\",\r\n        domAttr: \"data-name\"\r\n    }\r\n};\r\nCrop.prototype.reset = function () {\r\n    //Coordinates and Variables\r\n    this.cnv = {\r\n        cursor: {x: 0, y: 0},\r\n        crop: {x: 0, y: 0, x2: 0, y2: 0, w: 0, h: 0},\r\n        toSave: {x: 0, y: 0, w: 0, h: 0},\r\n        image: {w: 0, h: 0},\r\n        old: {\r\n            cursor: {x: 0, y: 0}\r\n        },\r\n        start: {\r\n            crop: {x: 0, y: 0, w: 0, h: 0}\r\n        },\r\n        canvas: {w: 0, h: 0}, //calculates on file handling\r\n        orig: {},\r\n        preview: {w: 0, h: 0},\r\n        scale: 1\r\n    };\r\n    this.setTop(0);\r\n    this.setLeft(0);\r\n    this.setWidth(0);\r\n    this.setHeight(0);\r\n\r\n    if (this.els.imageOriginal.lastChild)\r\n        this.els.imageOriginal.removeChild(this.els.imageOriginal.lastChild);\r\n};\r\n/**\r\n * Changes crop info if need.\r\n * @param type {string}\r\n * @param value {string|number}\r\n */\r\nCrop.prototype.changeInfo = function (type, value) {\r\n    switch (type) {\r\n        case \"ratio\":\r\n            this.els.cropInfo.ratio.innerHTML = \"Aspect ratio: \" + value;\r\n            break;\r\n        case \"croppedSize\":\r\n            this.els.cropInfo.croppedSize.innerHTML = \"Cropped size: \" + value[0]+'x'+value[1];\r\n            break;\r\n        case \"origSize\":\r\n            this.els.cropInfo.origSize.innerHTML = \"Original size: \" + value[0]+'x'+value[1];\r\n            break;\r\n        default:\r\n            break;\r\n    }\r\n};\r\n/**\r\n * Update cropping info.\r\n */\r\nCrop.prototype.updateInfo = function () {\r\n    var that = this;\r\n    if (this.options.info.length > 0) {\r\n        this.options.info.forEach(function (info) {\r\n            if (info == \"ratio\")\r\n                that.changeInfo(\"ratio\", Math.round(that.cnv.crop.w / that.cnv.crop.h * 100) / 100);\r\n            if (info == \"croppedSize\")\r\n                that.changeInfo(\"croppedSize\", [Math.round(that.cnv.crop.w * that.cnv.scale), Math.round(that.cnv.crop.h * that.cnv.scale)]);\r\n        });\r\n    }\r\n};\r\n/**\r\n * Shows modal with cropper\r\n */\r\nCrop.prototype.showPopup = function () {\r\n    var that = this;\r\n    document.body.appendChild(this.els.modal);\r\n    document.body.appendChild(this.els.backdrop);\r\n    setTimeout(function(){\r\n        that.els.modal.classList.add('visible');\r\n        that.els.backdrop.classList.add('visible');\r\n    }, 0);\r\n    this.addModalEventListeners();\r\n    this.removeEventListeners();\r\n};\r\n/**\r\n * Hides modal with cropper\r\n */\r\nCrop.prototype.hidePopup = function () {\r\n    var that = this;\r\n    this.els.modal.classList.remove('visible');\r\n    this.els.backdrop.classList.remove('visible');\r\n\r\n    setTimeout(function(){\r\n        that.els.modal.parentNode.removeChild(that.els.modal);\r\n        that.els.backdrop.parentNode.removeChild(that.els.backdrop);\r\n    }, 300);\r\n\r\n    this.removeModalEventListeners();\r\n    this.addEventListeners();\r\n};\r\n\r\n/**\r\n * Adds static events listeners.\r\n */\r\nCrop.prototype.addEventListeners = function () {\r\n    var that = this;\r\n\r\n    this._inputChange = function(e){\r\n        //IE9 doesn't support File API\r\n        var file = e.target.files[0];\r\n        if (!file.type.match(/image/)) {\r\n            alert(\"Please select an image.\");\r\n            return;\r\n        }\r\n        that.handleFileSelect(file);\r\n        if (that.els.adjust) that.els.adjust.style.display = 'inline-block';\r\n    };\r\n\r\n    this._openCropper = function (e) {\r\n        if (that.img) {\r\n            if (that.readyToPrepare)\r\n                that.prepare();\r\n            that.showPopup();\r\n        }\r\n    };\r\n\r\n    if (this.els.input) {\r\n        this.els.input.addEventListener('change', this._inputChange);\r\n    }\r\n    if (this.els.preview) {\r\n        this.els.preview.addEventListener('click', this._openCropper);\r\n    }\r\n    if (this.els.adjust) {\r\n        this.els.adjust.addEventListener('click', this._openCropper);\r\n    }\r\n};\r\n\r\nCrop.prototype.removeEventListeners = function () {\r\n    if (this.els.input) {\r\n        this.els.input.removeEventListener('change', this._inputChange);\r\n    }\r\n    if (this.els.preview) {\r\n        this.els.preview.removeEventListener('click', this._openCropper);\r\n    }\r\n    if (this.els.adjust) {\r\n        this.els.adjust.removeEventListener('click', this._openCropper);\r\n    }\r\n};\r\n\r\n/**\r\n * Adds events listeners for modal.\r\n */\r\nCrop.prototype.addModalEventListeners = function () {\r\n    var that = this;\r\n\r\n    this._cropSave = function(){\r\n        that.save();\r\n        that.hidePopup();\r\n    };\r\n\r\n    this._hidePopup = function(){ //this fn to save correct \"this\" and to be able to remove listener later\r\n        that.hidePopup();\r\n    };\r\n\r\n    this._cropWrapperMouseDown = function(e){\r\n        that.onCropStart(e);\r\n        that.inCropping = true;\r\n    };\r\n\r\n    this._documentMouseMove = function(e){\r\n        if (that.inCropping) {\r\n            e.preventDefault(); //prevent selecting background elements\r\n            that.onCrop(e);\r\n        }\r\n    };\r\n\r\n    this._cropWrapperMouseUp = function(){\r\n        that.onCropEnd();\r\n        that.inCropping = false;\r\n    };\r\n\r\n    this._documentMouseUp = function(){\r\n        that.onCropEnd();\r\n        that.inCropping = false;\r\n    };\r\n    this.els.closePopup.addEventListener(\"click\", this._hidePopup);\r\n    this.els.backdrop.addEventListener(\"click\", this._hidePopup);\r\n    this.els.cropSave.addEventListener(\"click\", this._cropSave);\r\n    this.els.cropWrapper.addEventListener(\"mousedown\", this._cropWrapperMouseDown);\r\n    this.els.cropWrapper.addEventListener(\"touchstart\", this._cropWrapperMouseDown);\r\n    this.els.cropWrapper.addEventListener(\"mouseup\", this._cropWrapperMouseUp);\r\n    this.els.cropWrapper.addEventListener(\"touchend\", this._cropWrapperMouseUp);\r\n    document.addEventListener(\"mousemove\", this._documentMouseMove);\r\n    document.addEventListener(\"touchmove\", this._documentMouseMove);\r\n    document.addEventListener(\"mouseup\", this._documentMouseUp);\r\n    document.addEventListener(\"touchend\", this._documentMouseUp);\r\n};\r\n\r\nCrop.prototype.removeModalEventListeners = function () {\r\n    this.els.closePopup.removeEventListener(\"click\", this._hidePopup);\r\n    this.els.backdrop.removeEventListener(\"click\", this._hidePopup);\r\n    this.els.cropSave.removeEventListener(\"click\", this._cropSave);\r\n    this.els.cropWrapper.removeEventListener(\"mousedown\", this._cropWrapperMouseDown);\r\n    this.els.cropWrapper.removeEventListener(\"touchstart\", this._cropWrapperMouseDown);\r\n    this.els.cropWrapper.removeEventListener(\"mouseup\", this._cropWrapperMouseUp);\r\n    this.els.cropWrapper.removeEventListener(\"touchend\", this._cropWrapperMouseUp);\r\n    document.removeEventListener(\"mousemove\", this._documentMouseMove);\r\n    document.removeEventListener(\"touchmove\", this._documentMouseMove);\r\n    document.removeEventListener(\"mouseup\", this._documentMouseUp);\r\n    document.removeEventListener(\"touchend\", this._documentMouseUp);\r\n};\r\n\r\n/**\r\n * Sets preview\r\n * @param img\r\n */\r\nCrop.prototype.setPreviewImage = function (img) {\r\n    var that = this;\r\n    if (that.els.preview) {\r\n//        if (that.els.preview.lastChild) // Don't remember why was removing only last child\r\n//            that.els.preview.removeChild(that.els.preview.lastChild);\r\n        while (that.els.preview.firstChild) {\r\n            that.els.preview.removeChild(that.els.preview.firstChild);\r\n        }\r\n        var newimg = img.cloneNode(true);\r\n        newimg.style.maxWidth = \"100%\";\r\n        that.els.preview.appendChild(newimg);\r\n    }\r\n\r\n};\r\n/**\r\n * Reads file, selected by user\r\n * @param file\r\n */\r\nCrop.prototype.handleFileSelect = function (file) {\r\n    var that = this;\r\n    this.reader = new FileReader();\r\n    this.reset();\r\n    this.reader.onload = (function (theFile) {\r\n        return function (e) {\r\n            that.file = {\r\n                file: theFile,\r\n                blob: theFile,\r\n                name: encodeURIComponent(theFile.name ? theFile.name : that.options.ajaximage.replace(/^.*[\\\\\\/]/, '')),\r\n                base64: e.target.result\r\n            };\r\n            if (that.els.filenameContainer) that.els.filenameContainer.innerText = that.file.name;\r\n            that.img = new Image();\r\n            that.img.src = that.file.base64;\r\n            that.img.onload = function () {\r\n                that.setPreviewImage(that.img);\r\n                that.cnv.preview.h = that.img.clientHeight;\r\n                that.cnv.preview.w = that.img.clientWidth;\r\n                that.cnv.orig.h = that.img.naturalHeight;\r\n                that.cnv.orig.w = that.img.naturalWidth;\r\n                that.cnv.orig.ratio = that.cnv.orig.w / that.cnv.orig.h;\r\n\r\n                var screenFillIndex = 0.7; //max coefficient of viewport to be filled with image\r\n                if (that.cnv.orig.h < (window.innerHeight * screenFillIndex) && that.cnv.orig.w < (window.innerWidth * screenFillIndex)) {\r\n                    that.cnv.canvas.w = that.cnv.orig.w; //if image is less than viewport * coeff.\r\n                } else {\r\n                    //calculate width of canvas to suit the screen best way\r\n                    if (that.cnv.orig.ratio > window.innerWidth / window.innerHeight) {\r\n                        that.cnv.canvas.w = window.innerWidth * screenFillIndex;\r\n                    } else {\r\n                        that.cnv.canvas.w = Math.floor(that.cnv.orig.w * window.innerHeight / that.cnv.orig.h) * screenFillIndex;\r\n                    }\r\n                }\r\n\r\n                that.cnv.scale = that.cnv.orig.w / that.cnv.canvas.w;\r\n                that.cnv.toSave.w = that.cnv.orig.w;\r\n                that.cnv.toSave.h = that.cnv.orig.h;\r\n\r\n                if (that.els.imageOriginal.lastChild)\r\n                    that.els.imageOriginal.removeChild(that.els.imageOriginal.lastChild);\r\n                that.readyToPrepare = true;\r\n                that.options.onFileProcessed();\r\n            };\r\n\r\n        };\r\n    })(file);\r\n\r\n    this.reader.readAsDataURL(file);\r\n};\r\n\r\n/**\r\n * Prepares canvas, calculates coordinates\r\n */\r\nCrop.prototype.prepare = function () {\r\n    var that = this;\r\n    var c = document.createElement(\"canvas\");\r\n    c.width = that.cnv.canvas.w;\r\n    c.height = that.cnv.canvas.w / that.cnv.orig.ratio;\r\n    var ctx = c.getContext(\"2d\");\r\n\r\n    function drawImageOnCanvas() {//fix to NS_ERROR_NOT_AVAILABLE in firefox with ctx.drawImage\r\n        try {\r\n            ctx.drawImage(that.img, 0, 0, that.cnv.canvas.w, that.cnv.canvas.w / that.cnv.orig.ratio);\r\n        } catch (e) {\r\n            if (e.name == \"NS_ERROR_NOT_AVAILABLE\") {\r\n                setTimeout(drawImageOnCanvas, 0);\r\n            } else {\r\n                throw e;\r\n            }\r\n        }\r\n    }\r\n\r\n    drawImageOnCanvas();\r\n    that.els.imageOriginal.appendChild(c);\r\n    setTimeout(function () {\r\n        that.cnv.image.w = that.els.imageOriginal.lastChild.clientWidth;\r\n        that.cnv.image.h = that.els.imageOriginal.lastChild.clientHeight;\r\n        that.cnv.start.crop.w = that.cnv.image.w;\r\n        that.cnv.start.crop.h = that.cnv.image.h;\r\n        that.setWidth(that.cnv.image.w);\r\n        that.setHeight(that.cnv.image.h);\r\n        that.cnv.crop.x2 = that.cnv.image.w;\r\n        that.cnv.crop.y2 = that.cnv.image.h;\r\n\r\n        if (that.options.ratio) {\r\n            if (that.cnv.orig.ratio > that.options.ratio) {\r\n                var w = that.cnv.crop.w;\r\n                that.setWidth(Math.round(that.cnv.start.crop.h * that.options.ratio));\r\n                that.cnv.start.crop.w = that.cnv.crop.w;\r\n                that.setLeft(Math.round((w - that.cnv.crop.w) / 2));\r\n                that.cnv.crop.x2 = that.cnv.crop.x + that.cnv.crop.w;\r\n            } else {\r\n                var h = that.cnv.crop.h;\r\n                that.setHeight(Math.round(that.cnv.start.crop.w / that.options.ratio));\r\n                that.cnv.start.crop.h = that.cnv.crop.h;\r\n                that.setTop(Math.round((h - that.cnv.crop.h) / 2));\r\n                that.cnv.crop.y2 = that.cnv.crop.y + that.cnv.crop.h;\r\n            }\r\n\r\n            that.save();\r\n        }\r\n        that.updateInfo();\r\n        if (that.options.info.indexOf(\"origSize\") > -1) {\r\n            that.changeInfo(\"origSize\", [that.cnv.orig.w, that.cnv.orig.h]); //no need to pass through updateInfo since it's static\r\n        }\r\n\r\n        that.readyToPrepare = false;\r\n    }, 50);\r\n};\r\n\r\n/**\r\n * Processes crop start.\r\n * @param {Event} e\r\n */\r\nCrop.prototype.onCropStart = function (e) {\r\n    if (e.type === \"touchstart\")  e = e.touches[0];\r\n    this.els.handlers.current = e.target;\r\n    this.cnv.offset = this.els.cropWrapper.getBoundingClientRect();\r\n    this.cnv.cursor.x = Math.round(e.clientX - this.cnv.offset.left);\r\n    this.cnv.cursor.y = Math.round(e.clientY - this.cnv.offset.top);\r\n    this.cnv.cursor.offsetX = e.offsetX === undefined ? (e.layerX ? Math.round(e.layerX) : e.pageX - e.target.getBoundingClientRect().left) : Math.round(e.offsetX);\r\n    this.cnv.cursor.offsetY = e.offsetY === undefined ? (e.layerY ? Math.round(e.layerY) : e.pageY - e.target.getBoundingClientRect().top) : Math.round(e.offsetY);\r\n};\r\n\r\n/**\r\n * Processes cropping (mouse move)\r\n * @param  {Event} e\r\n */\r\nCrop.prototype.onCrop = function (e) {\r\n    if (!this.els.handlers.current) return;\r\n    if (e.type === \"touchmove\")  e = e.touches[0];\r\n    this.cnv.cursor.x = Math.round(e.clientX - this.cnv.offset.left);\r\n    this.cnv.cursor.y = Math.round(e.clientY - this.cnv.offset.top);\r\n    switch (this.els.handlers.current) {\r\n        case this.els.handlers.n:\r\n            this.setN();\r\n            break;\r\n        case this.els.handlers.ne:\r\n            this.setNE();\r\n            break;\r\n        case this.els.handlers.e:\r\n            this.setE();\r\n            break;\r\n        case this.els.handlers.se:\r\n            this.setSE();\r\n            break;\r\n        case this.els.handlers.s:\r\n            this.setS();\r\n            break;\r\n        case this.els.handlers.sw:\r\n            this.setSW();\r\n            break;\r\n        case this.els.handlers.w:\r\n            this.setW();\r\n            break;\r\n        case this.els.handlers.nw:\r\n            this.setNW();\r\n            break;\r\n        case this.els.cropElements:\r\n            this.move();\r\n            break;\r\n    }\r\n    this.updateInfo();\r\n};\r\n\r\n/**\r\n * Process crop end.\r\n */\r\nCrop.prototype.onCropEnd = function () {\r\n    this.els.handlers.current = null;\r\n};\r\n/**\r\n * Sets left side of cropper\r\n * @param x {number}\r\n */\r\nCrop.prototype.setLeft = function (x) {\r\n    this.cnv.crop.x = x;\r\n    this.els.cropElements.style.left = x + \"px\";\r\n    this.els.dimmers.el.style.left = x + \"px\";\r\n};\r\n/**\r\n * Sets top side of cropper\r\n * @param y {number}\r\n */\r\nCrop.prototype.setTop = function (y) {\r\n    this.cnv.crop.y = y;\r\n    this.els.cropElements.style.top = y + \"px\";\r\n    this.els.dimmers.el.style.top = y + \"px\";\r\n};\r\n/**\r\n * Sets width of cropper\r\n * @param w {number}\r\n */\r\nCrop.prototype.setWidth = function (w) {\r\n    this.cnv.crop.w = w;\r\n    this.els.cropElements.style.width = w + \"px\";\r\n    this.els.dimmers.el.style.width = w + \"px\";\r\n};\r\n/**\r\n * Sets height of cropper\r\n * @param h {number}\r\n */\r\nCrop.prototype.setHeight = function (h) {\r\n    this.cnv.crop.h = h;\r\n    this.els.cropElements.style.height = h + \"px\";\r\n    this.els.dimmers.el.style.height = h + \"px\";\r\n};\r\n\r\n/**\r\n * Adjusts coordinates.\r\n * @param {boolean|undefined} notDefaultSide\r\n * @param {number} y\r\n */\r\nCrop.prototype.adjustN = function (notDefaultSide, y) {\r\n    if (notDefaultSide) {\r\n        if ((this.cnv.crop.y2 - y) * this.options.ratio <= this.cnv.crop.x2) {\r\n            this.setTop(y);\r\n            this.setHeight(this.cnv.crop.y2 - y);\r\n            this.setWidth(Math.round(this.cnv.crop.h * this.options.ratio));\r\n            this.setLeft(this.cnv.crop.x2 - this.cnv.crop.w);\r\n        } else {\r\n            this.setLeft(0);\r\n            this.setWidth(this.cnv.crop.x2);\r\n            this.setTop(this.cnv.crop.y2 - Math.round(this.cnv.crop.w / this.options.ratio));\r\n        }\r\n    } else {\r\n        if ((this.cnv.crop.y2 - y) * this.options.ratio + this.cnv.crop.x <= this.cnv.image.w) {\r\n            this.setTop(y);\r\n            this.setHeight(this.cnv.crop.y2 - y);\r\n            this.setWidth(Math.round(this.cnv.crop.h * this.options.ratio));\r\n            this.cnv.crop.x2 = this.cnv.crop.x + this.cnv.crop.w;\r\n        } else {\r\n            this.setWidth(this.cnv.image.w - this.cnv.crop.x);\r\n            this.setTop(this.cnv.crop.y2 - Math.round(this.cnv.crop.w / this.options.ratio));\r\n            this.setHeight(this.cnv.crop.y2 - this.cnv.crop.y);\r\n            this.cnv.crop.x2 = this.cnv.image.w;\r\n        }\r\n    }\r\n};\r\n\r\n/**\r\n * Sets top coordinates and border.\r\n * @param {Boolean} [notDefaultSide]\r\n */\r\nCrop.prototype.setN = function (notDefaultSide) {\r\n    if (this.options.ratio) {\r\n        if (this.cnv.cursor.y > 0) {\r\n            if (this.cnv.cursor.y < this.cnv.crop.y2) {\r\n                this.adjustN(notDefaultSide, this.cnv.cursor.y);\r\n            } else {\r\n                this.setHeight(1);\r\n                this.setWidth(Math.round(this.cnv.crop.h * this.options.ratio));\r\n                if (notDefaultSide) {\r\n                    this.setLeft(this.cnv.crop.x2 - 1);\r\n                } else {\r\n                    this.cnv.crop.x2 = this.cnv.crop.x + this.cnv.crop.w;\r\n                }\r\n                this.setTop(this.cnv.crop.y2 - 1);\r\n            }\r\n        } else {\r\n            this.adjustN(notDefaultSide, 0);\r\n        }\r\n    } else {\r\n        if (this.cnv.cursor.y > 0) {\r\n            if (this.cnv.cursor.y < this.cnv.crop.y2) {\r\n                this.setTop(this.cnv.cursor.y);\r\n                this.setHeight(this.cnv.crop.y2 - this.cnv.crop.y);\r\n            } else {\r\n                this.setTop(this.cnv.crop.y2 - 1);\r\n                this.setHeight(1);\r\n            }\r\n        } else {\r\n            this.setTop(0);\r\n            this.setHeight(this.cnv.crop.y2);\r\n        }\r\n    }\r\n};\r\n\r\n/**\r\n * Adjusts coordinates.\r\n * @param {boolean|undefined} notDefaultSide\r\n * @param {number} y2\r\n */\r\nCrop.prototype.adjustS = function (notDefaultSide, y2) {\r\n    if (notDefaultSide) {\r\n        if ((y2 - this.cnv.crop.y) * this.options.ratio <= this.cnv.crop.x2) {\r\n            this.setHeight(y2 - this.cnv.crop.y);\r\n            this.setWidth(Math.round(this.cnv.crop.h * this.options.ratio));\r\n            this.setLeft(this.cnv.crop.x2 - this.cnv.crop.w);\r\n            this.cnv.crop.y2 = y2;\r\n        } else {\r\n            this.setLeft(0);\r\n            this.setWidth(this.cnv.crop.x2);\r\n            this.setHeight(Math.round(this.cnv.crop.w / this.options.ratio));\r\n            this.cnv.crop.y2 = this.cnv.crop.y + this.cnv.crop.h;\r\n        }\r\n    } else {\r\n        if ((y2 - this.cnv.crop.y) * this.options.ratio + this.cnv.crop.x <= this.cnv.image.w) {\r\n            this.setHeight(y2 - this.cnv.crop.y);\r\n            this.setWidth(Math.round(this.cnv.crop.h * this.options.ratio));\r\n            this.cnv.crop.y2 = y2;\r\n            this.cnv.crop.x2 = this.cnv.crop.x + this.cnv.crop.w;\r\n        } else {\r\n            this.setWidth(this.cnv.image.w - this.cnv.crop.x);\r\n            this.setHeight(Math.round(this.cnv.crop.w / this.options.ratio));\r\n            this.cnv.crop.x2 = this.cnv.image.w;\r\n            this.cnv.crop.y2 = this.cnv.crop.y + this.cnv.crop.h;\r\n        }\r\n    }\r\n};\r\n\r\n/**\r\n * Sets bottom coordinates and border.\r\n * @param {Boolean} [notDefaultSide]\r\n */\r\nCrop.prototype.setS = function (notDefaultSide) {\r\n    if (this.options.ratio) {\r\n        if (this.cnv.cursor.y < this.cnv.image.h) {\r\n            if (this.cnv.cursor.y > this.cnv.crop.y) {\r\n                this.adjustS(notDefaultSide, this.cnv.cursor.y);\r\n            } else {\r\n                this.setHeight(1);\r\n                this.setWidth(Math.round(this.cnv.crop.h * this.options.ratio));\r\n                if (notDefaultSide) {\r\n                    this.setLeft(this.cnv.crop.x2 - 1);\r\n                } else {\r\n                    this.cnv.crop.x2 = this.cnv.crop.x + this.cnv.crop.w;\r\n                }\r\n                this.cnv.crop.y2 = this.cnv.crop.y + 1;\r\n            }\r\n        } else {\r\n            this.adjustS(notDefaultSide, this.cnv.image.h);\r\n        }\r\n    } else {\r\n        if (this.cnv.cursor.y < this.cnv.image.h) {\r\n            if (this.cnv.cursor.y > this.cnv.crop.y) {\r\n                this.setHeight(this.cnv.cursor.y - this.cnv.crop.y);\r\n                this.cnv.crop.y2 = this.cnv.cursor.y;\r\n            } else {\r\n                this.setHeight(1);\r\n                this.cnv.crop.y2 = this.cnv.crop.y + 1;\r\n            }\r\n        } else {\r\n            this.setHeight(this.cnv.image.h - this.cnv.crop.y);\r\n            this.cnv.crop.y2 = this.cnv.image.h;\r\n        }\r\n    }\r\n};\r\n\r\n/**\r\n * Adjusts coordinates.\r\n * @param {boolean|undefined} notDefaultSide\r\n * @param {number} x\r\n */\r\nCrop.prototype.adjustW = function (notDefaultSide, x) {\r\n    if (notDefaultSide) {\r\n        if (this.cnv.crop.y2 - (this.cnv.crop.x2 - x) / this.options.ratio >= 0) {\r\n            this.setLeft(x);\r\n            this.setWidth(this.cnv.crop.x2 - x);\r\n            this.setHeight(Math.round(this.cnv.crop.w / this.options.ratio));\r\n            this.setTop(this.cnv.crop.y2 - this.cnv.crop.h);\r\n        } else {\r\n            this.setTop(0);\r\n            this.setHeight(this.cnv.crop.y2);\r\n            this.setWidth(Math.round(this.cnv.crop.h * this.options.ratio));\r\n            this.setLeft(this.cnv.crop.x2 - this.cnv.crop.w);\r\n        }\r\n    } else {\r\n        if ((this.cnv.crop.x2 - x) / this.options.ratio + this.cnv.crop.y <= this.cnv.image.h) {\r\n            this.setLeft(x);\r\n            this.setWidth(this.cnv.crop.x2 - x);\r\n            this.setHeight(Math.round(this.cnv.crop.w / this.options.ratio));\r\n            this.cnv.crop.y2 = this.cnv.crop.y + this.cnv.crop.h;\r\n        } else {\r\n            this.setHeight(this.cnv.image.h - this.cnv.crop.y);\r\n            this.setWidth(Math.round(this.cnv.crop.h * this.options.ratio));\r\n            this.setLeft(this.cnv.crop.x2 - this.cnv.crop.w);\r\n            this.cnv.crop.y2 = this.cnv.image.h;\r\n        }\r\n    }\r\n};\r\n\r\n/**\r\n * Sets left coordinates and border.\r\n * @param {Boolean} [notDefaultSide]\r\n */\r\nCrop.prototype.setW = function (notDefaultSide) {\r\n    if (this.options.ratio) {\r\n        if (this.cnv.cursor.x > 0) {\r\n            if (this.cnv.cursor.x < this.cnv.crop.x2) {\r\n                this.adjustW(notDefaultSide, this.cnv.cursor.x);\r\n            } else {\r\n                this.setWidth(1);\r\n                this.setHeight(Math.round(this.cnv.crop.w / this.options.ratio));\r\n                if (notDefaultSide) {\r\n                    this.setTop(this.cnv.crop.y2 - 1);\r\n                } else {\r\n                    this.cnv.crop.y2 = this.cnv.crop.y + this.cnv.crop.h;\r\n                }\r\n            }\r\n        } else {\r\n            this.adjustW(notDefaultSide, 0);\r\n        }\r\n    } else {\r\n        if (this.cnv.cursor.x > 0) {\r\n            if (this.cnv.cursor.x < this.cnv.crop.x2) {\r\n                this.setLeft(this.cnv.cursor.x);\r\n                this.setWidth(this.cnv.crop.x2 - this.cnv.crop.x);\r\n            } else {\r\n                this.setLeft(this.cnv.crop.x2 - 1);\r\n                this.setWidth(1);\r\n            }\r\n        } else {\r\n            this.setLeft(0);\r\n            this.setWidth(this.cnv.crop.x2);\r\n        }\r\n    }\r\n};\r\n\r\n/**\r\n * Adjusts coordinates.\r\n * @param {boolean|undefined} notDefaultSide\r\n * @param {number} x\r\n */\r\nCrop.prototype.adjustE = function (notDefaultSide, x) {\r\n    if (notDefaultSide) {\r\n        if (this.cnv.crop.y2 - (x - this.cnv.crop.x) / this.options.ratio >= 0) {\r\n            this.setWidth(x - this.cnv.crop.x);\r\n            this.setHeight(Math.round(this.cnv.crop.w / this.options.ratio));\r\n            this.setTop(this.cnv.crop.y2 - this.cnv.crop.h);\r\n            this.cnv.crop.x2 = x;\r\n        } else {\r\n            this.setTop(0);\r\n            this.setHeight(this.cnv.crop.y2);\r\n            this.setWidth(Math.round(this.cnv.crop.h * this.options.ratio));\r\n            this.cnv.crop.x2 = this.cnv.crop.x + this.cnv.crop.w;\r\n        }\r\n    } else {\r\n        if ((x - this.cnv.crop.x) / this.options.ratio + this.cnv.crop.y <= this.cnv.image.h) {\r\n            this.setWidth(x - this.cnv.crop.x);\r\n            this.setHeight(Math.round(this.cnv.crop.w / this.options.ratio));\r\n            this.cnv.crop.x2 = x;\r\n            this.cnv.crop.y2 = this.cnv.crop.y + this.cnv.crop.h;\r\n        } else {\r\n            this.setHeight(this.cnv.image.h - this.cnv.crop.y);\r\n            this.setWidth(Math.round(this.cnv.crop.h * this.options.ratio));\r\n            this.cnv.crop.y2 = this.cnv.image.h;\r\n            this.cnv.crop.x2 = this.cnv.crop.x + this.cnv.crop.w;\r\n        }\r\n    }\r\n};\r\n\r\n/**\r\n * Sets right coordinates and border.\r\n * @param {Boolean} [notDefaultSide]\r\n */\r\nCrop.prototype.setE = function (notDefaultSide) {\r\n    if (this.options.ratio) {\r\n        if (this.cnv.cursor.x < this.cnv.image.w) {\r\n            if (this.cnv.cursor.x > this.cnv.crop.x) {\r\n                this.adjustE(notDefaultSide, this.cnv.cursor.x);\r\n            } else {\r\n                this.setWidth(1);\r\n                this.setHeight(Math.round(this.cnv.crop.w / this.options.ratio));\r\n                if (notDefaultSide) {\r\n                    this.setTop(this.cnv.crop.y2 - 1);\r\n                } else {\r\n                    this.cnv.crop.y2 = this.cnv.crop.y + this.cnv.crop.h;\r\n                }\r\n                this.cnv.crop.x2 = this.cnv.crop.x + 1;\r\n            }\r\n        } else {\r\n            this.adjustE(notDefaultSide, this.cnv.image.w);\r\n        }\r\n    } else {\r\n        if (this.cnv.cursor.x < this.cnv.image.w) {\r\n            if (this.cnv.cursor.x > this.cnv.crop.x) {\r\n                this.setWidth(this.cnv.cursor.x - this.cnv.crop.x);\r\n                this.cnv.crop.x2 = this.cnv.cursor.x;\r\n            } else {\r\n                this.setWidth(1);\r\n                this.cnv.crop.x2 = this.cnv.crop.x + 1;\r\n            }\r\n        } else {\r\n            this.setWidth(this.cnv.image.w - this.cnv.crop.x);\r\n            this.cnv.crop.x2 = this.cnv.image.w;\r\n        }\r\n    }\r\n};\r\n\r\n/**\r\n * Sets top-right corner.\r\n */\r\nCrop.prototype.setNE = function () {\r\n    if (this.options.ratio) {\r\n        if (Math.abs(this.cnv.cursor.x - this.cnv.crop.x2) > Math.abs(this.cnv.cursor.y - this.cnv.crop.y) && this.cnv.cursor.x <= this.cnv.crop.x2) {\r\n            this.setN();\r\n        } else {\r\n            (this.cnv.cursor.y >= this.cnv.crop.y) ? this.setE(true) : this.setN();\r\n        }\r\n    } else {\r\n        this.setN();\r\n        this.setE();\r\n    }\r\n};\r\n\r\n/**\r\n * Sets bottom-right corner.\r\n */\r\nCrop.prototype.setSE = function () {\r\n    if (this.options.ratio) {\r\n        if (Math.abs(this.cnv.cursor.x - this.cnv.crop.x2) > Math.abs(this.cnv.cursor.y - this.cnv.crop.y - this.cnv.crop.h) && this.cnv.cursor.x <= this.cnv.crop.x2) {\r\n            this.setS();\r\n        } else {\r\n            (this.cnv.cursor.y <= this.cnv.crop.y + this.cnv.crop.h) ? this.setE() : this.setS();\r\n        }\r\n    } else {\r\n        this.setS();\r\n        this.setE();\r\n    }\r\n};\r\n\r\n/**\r\n * Sets bottom-left corner.\r\n */\r\nCrop.prototype.setSW = function () {\r\n    if (this.options.ratio) {\r\n        if (Math.abs(this.cnv.cursor.x - this.cnv.crop.x) > Math.abs(this.cnv.cursor.y - this.cnv.crop.y - this.cnv.crop.h) && this.cnv.cursor.x >= this.cnv.crop.x) {\r\n            this.setS(true);\r\n        } else {\r\n            (this.cnv.cursor.y <= this.cnv.crop.y + this.cnv.crop.h) ? this.setW() : this.setS(true);\r\n        }\r\n    } else {\r\n        this.setS();\r\n        this.setW();\r\n    }\r\n};\r\n\r\n/**\r\n * Sets top-left corner.\r\n */\r\nCrop.prototype.setNW = function () {\r\n    if (this.options.ratio) {\r\n        if (Math.abs(this.cnv.cursor.x - this.cnv.crop.x) > Math.abs(this.cnv.cursor.y - this.cnv.crop.y) && this.cnv.cursor.x >= this.cnv.crop.x) {\r\n            this.setN(true);\r\n        } else {\r\n            (this.cnv.cursor.y >= this.cnv.crop.y) ? this.setW(true) : this.setN(true);\r\n        }\r\n    } else {\r\n        this.setN();\r\n        this.setW();\r\n    }\r\n};\r\n\r\n/**\r\n * Processes move crop selection.\r\n */\r\nCrop.prototype.move = function () {\r\n    var left = this.cnv.cursor.x - this.cnv.cursor.offsetX;\r\n    var top = this.cnv.cursor.y - this.cnv.cursor.offsetY;\r\n    if (left > 0) {\r\n        if (left + this.cnv.crop.w < this.cnv.image.w) {\r\n            this.setLeft(left);\r\n        } else {\r\n            this.setLeft(this.cnv.image.w - this.cnv.crop.w);\r\n        }\r\n    } else {\r\n        this.setLeft(0);\r\n    }\r\n\r\n    if (top > 0) {\r\n        if (top + this.cnv.crop.h < this.cnv.image.h) {\r\n            this.setTop(top);\r\n        } else {\r\n            this.setTop(this.cnv.image.h - this.cnv.crop.h);\r\n        }\r\n    } else {\r\n        this.setTop(0);\r\n    }\r\n\r\n    this.cnv.crop.x2 = this.cnv.crop.x + this.cnv.crop.w;\r\n    this.cnv.crop.y2 = this.cnv.crop.y + this.cnv.crop.h;\r\n};\r\n\r\n/**\r\n * Converts dataURI to Blob.\r\n * http://stackoverflow.com/questions/4998908/convert-data-uri-to-file-then-append-to-formdata\r\n * @param dataURI\r\n * @returns {Blob}\r\n */\r\nCrop.prototype.dataURItoBlob = function (dataURI) {\r\n\r\n    var content = [],\r\n        byteString,\r\n        mimeString;\r\n\r\n    if (dataURI.split(',')[0].indexOf('base64') !== -1) {\r\n        byteString = atob(dataURI.split(',')[1])\r\n    } else {\r\n        byteString = decodeURI(dataURI.split(',')[1])\r\n    }\r\n\r\n    mimeString = dataURI.split(',')[0].split(':')[1].split(';')[0];\r\n\r\n    for (var i = 0; i < byteString.length; i++) {\r\n        content[i] = byteString.charCodeAt(i)\r\n    }\r\n\r\n    return new Blob([new Uint8Array(content)], {type: mimeString});\r\n};\r\n\r\n/**\r\n * Saves results to preview.\r\n */\r\nCrop.prototype.save = function () {\r\n    'use strict';\r\n    var that = this;\r\n    var c = document.createElement(\"canvas\"),\r\n        ctx = c.getContext(\"2d\"),\r\n        img;\r\n    this.cnv.toSave = {//CoordinateS\r\n        w: Math.round(this.cnv.crop.w * this.cnv.scale),\r\n        h: Math.round(this.cnv.crop.h * this.cnv.scale),\r\n        x: Math.round(this.cnv.crop.x * this.cnv.scale),\r\n        y: Math.round(this.cnv.crop.y * this.cnv.scale)\r\n    };\r\n\r\n    c.width = this.cnv.toSave.w;\r\n    c.height = this.cnv.toSave.h;\r\n\r\n    function drawImageOnCanvas() {//TODO refactor this piece. Almost the same as in prepare().\r\n        try {\r\n            ctx.drawImage(that.img, that.cnv.toSave.x, that.cnv.toSave.y, that.cnv.toSave.w, that.cnv.toSave.h, 0, 0, that.cnv.toSave.w, that.cnv.toSave.h);\r\n        } catch (e) {\r\n            if (e.name == \"NS_ERROR_NOT_AVAILABLE\") {\r\n                setTimeout(drawImageOnCanvas, 0);\r\n            } else {\r\n                throw e;\r\n            }\r\n        }\r\n    }\r\n\r\n    drawImageOnCanvas();\r\n    this.strDataURI = c.toDataURL(\"image/jpeg\", 0.95);\r\n\r\n    img = new Image();\r\n    img.src = this.strDataURI;\r\n\r\n    this.setPreviewImage(img);\r\n    this.file.blob = this.dataURItoBlob(this.strDataURI);\r\n};\r\n\r\n/**\r\n * Attaches data to formData\r\n */\r\nCrop.prototype.attachData = function () {\r\n    var that = this;\r\n    if (!this.form) return;\r\n\r\n    if (this.options.format == \"cropped\") {\r\n        this.form.events.on(\"beforeSend\", function (options) {\r\n            if (!that.file) return;\r\n            options.data.append(that.options.name, that.file.blob, that.file.name);\r\n        });\r\n    } else {\r\n        this.form.events.on(\"beforeSend\", function (options) {\r\n            if (!that.file) return;\r\n            options.data.append(that.options.name, that.file.file, that.file.name);\r\n            options.data.append(that.options.name + \"-cropData[cropWidth]\", that.cnv.toSave.w);\r\n            options.data.append(that.options.name + \"-cropData[cropHeight]\", that.cnv.toSave.h);\r\n            options.data.append(that.options.name + \"-cropData[cropX]\", that.cnv.toSave.x);\r\n            options.data.append(that.options.name + \"-cropData[cropY]\", that.cnv.toSave.y);\r\n        });\r\n    }\r\n};\r\n\r\nCrop.prototype.die = function () {\r\n    this.removeEventListeners();\r\n    this.removeModalEventListeners();\r\n    delete this;\r\n};\r\n\r\nexport { Crop as default };\n\n\n/** WEBPACK FOOTER **\n ** ./src/crop.js\n **/","module.exports = { \"default\": require(\"core-js/library/fn/object/assign\"), __esModule: true };\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-runtime/core-js/object/assign.js\n **/","require('../../modules/es6.object.assign');\nmodule.exports = require('../../modules/$.core').Object.assign;\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/fn/object/assign.js\n **/","// 19.1.3.1 Object.assign(target, source)\nvar $export = require('./$.export');\n\n$export($export.S + $export.F, 'Object', {assign: require('./$.object-assign')});\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/es6.object.assign.js\n **/","var global    = require('./$.global')\n  , core      = require('./$.core')\n  , ctx       = require('./$.ctx')\n  , PROTOTYPE = 'prototype';\n\nvar $export = function(type, name, source){\n  var IS_FORCED = type & $export.F\n    , IS_GLOBAL = type & $export.G\n    , IS_STATIC = type & $export.S\n    , IS_PROTO  = type & $export.P\n    , IS_BIND   = type & $export.B\n    , IS_WRAP   = type & $export.W\n    , exports   = IS_GLOBAL ? core : core[name] || (core[name] = {})\n    , target    = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE]\n    , key, own, out;\n  if(IS_GLOBAL)source = name;\n  for(key in source){\n    // contains in native\n    own = !IS_FORCED && target && key in target;\n    if(own && key in exports)continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function(C){\n      var F = function(param){\n        return this instanceof C ? new C(param) : C(param);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    if(IS_PROTO)(exports[PROTOTYPE] || (exports[PROTOTYPE] = {}))[key] = out;\n  }\n};\n// type bitmap\n$export.F = 1;  // forced\n$export.G = 2;  // global\n$export.S = 4;  // static\n$export.P = 8;  // proto\n$export.B = 16; // bind\n$export.W = 32; // wrap\nmodule.exports = $export;\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/$.export.js\n **/","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\nif(typeof __g == 'number')__g = global; // eslint-disable-line no-undef\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/$.global.js\n **/","var core = module.exports = {version: '1.2.6'};\nif(typeof __e == 'number')__e = core; // eslint-disable-line no-undef\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/$.core.js\n **/","// optional / simple context binding\nvar aFunction = require('./$.a-function');\nmodule.exports = function(fn, that, length){\n  aFunction(fn);\n  if(that === undefined)return fn;\n  switch(length){\n    case 1: return function(a){\n      return fn.call(that, a);\n    };\n    case 2: return function(a, b){\n      return fn.call(that, a, b);\n    };\n    case 3: return function(a, b, c){\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function(/* ...args */){\n    return fn.apply(that, arguments);\n  };\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/$.ctx.js\n **/","module.exports = function(it){\n  if(typeof it != 'function')throw TypeError(it + ' is not a function!');\n  return it;\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/$.a-function.js\n **/","// 19.1.2.1 Object.assign(target, source, ...)\nvar $        = require('./$')\n  , toObject = require('./$.to-object')\n  , IObject  = require('./$.iobject');\n\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = require('./$.fails')(function(){\n  var a = Object.assign\n    , A = {}\n    , B = {}\n    , S = Symbol()\n    , K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function(k){ B[k] = k; });\n  return a({}, A)[S] != 7 || Object.keys(a({}, B)).join('') != K;\n}) ? function assign(target, source){ // eslint-disable-line no-unused-vars\n  var T     = toObject(target)\n    , $$    = arguments\n    , $$len = $$.length\n    , index = 1\n    , getKeys    = $.getKeys\n    , getSymbols = $.getSymbols\n    , isEnum     = $.isEnum;\n  while($$len > index){\n    var S      = IObject($$[index++])\n      , keys   = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S)\n      , length = keys.length\n      , j      = 0\n      , key;\n    while(length > j)if(isEnum.call(S, key = keys[j++]))T[key] = S[key];\n  }\n  return T;\n} : Object.assign;\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/$.object-assign.js\n **/","module.exports = { \"default\": require(\"core-js/library/fn/object/keys\"), __esModule: true };\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-runtime/core-js/object/keys.js\n **/","require('../../modules/es6.object.keys');\nmodule.exports = require('../../modules/$.core').Object.keys;\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/fn/object/keys.js\n **/","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./$.to-object');\n\nrequire('./$.object-sap')('keys', function($keys){\n  return function keys(it){\n    return $keys(toObject(it));\n  };\n});\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/es6.object.keys.js\n **/","// 7.1.13 ToObject(argument)\nvar defined = require('./$.defined');\nmodule.exports = function(it){\n  return Object(defined(it));\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/$.to-object.js\n **/","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function(it){\n  if(it == undefined)throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/$.defined.js\n **/","// most Object methods by ES6 should accept primitives\nvar $export = require('./$.export')\n  , core    = require('./$.core')\n  , fails   = require('./$.fails');\nmodule.exports = function(KEY, exec){\n  var fn  = (core.Object || {})[KEY] || Object[KEY]\n    , exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function(){ fn(1); }), 'Object', exp);\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/$.object-sap.js\n **/","module.exports = function(exec){\n  try {\n    return !!exec();\n  } catch(e){\n    return true;\n  }\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/$.fails.js\n **/","module.exports = { \"default\": require(\"core-js/library/fn/symbol\"), __esModule: true };\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-runtime/core-js/symbol.js\n **/","require('../../modules/es6.symbol');\nrequire('../../modules/es6.object.to-string');\nmodule.exports = require('../../modules/$.core').Symbol;\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/fn/symbol/index.js\n **/","'use strict';\n// ECMAScript 6 symbols shim\nvar $              = require('./$')\n  , global         = require('./$.global')\n  , has            = require('./$.has')\n  , DESCRIPTORS    = require('./$.descriptors')\n  , $export        = require('./$.export')\n  , redefine       = require('./$.redefine')\n  , $fails         = require('./$.fails')\n  , shared         = require('./$.shared')\n  , setToStringTag = require('./$.set-to-string-tag')\n  , uid            = require('./$.uid')\n  , wks            = require('./$.wks')\n  , keyOf          = require('./$.keyof')\n  , $names         = require('./$.get-names')\n  , enumKeys       = require('./$.enum-keys')\n  , isArray        = require('./$.is-array')\n  , anObject       = require('./$.an-object')\n  , toIObject      = require('./$.to-iobject')\n  , createDesc     = require('./$.property-desc')\n  , getDesc        = $.getDesc\n  , setDesc        = $.setDesc\n  , _create        = $.create\n  , getNames       = $names.get\n  , $Symbol        = global.Symbol\n  , $JSON          = global.JSON\n  , _stringify     = $JSON && $JSON.stringify\n  , setter         = false\n  , HIDDEN         = wks('_hidden')\n  , isEnum         = $.isEnum\n  , SymbolRegistry = shared('symbol-registry')\n  , AllSymbols     = shared('symbols')\n  , useNative      = typeof $Symbol == 'function'\n  , ObjectProto    = Object.prototype;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function(){\n  return _create(setDesc({}, 'a', {\n    get: function(){ return setDesc(this, 'a', {value: 7}).a; }\n  })).a != 7;\n}) ? function(it, key, D){\n  var protoDesc = getDesc(ObjectProto, key);\n  if(protoDesc)delete ObjectProto[key];\n  setDesc(it, key, D);\n  if(protoDesc && it !== ObjectProto)setDesc(ObjectProto, key, protoDesc);\n} : setDesc;\n\nvar wrap = function(tag){\n  var sym = AllSymbols[tag] = _create($Symbol.prototype);\n  sym._k = tag;\n  DESCRIPTORS && setter && setSymbolDesc(ObjectProto, tag, {\n    configurable: true,\n    set: function(value){\n      if(has(this, HIDDEN) && has(this[HIDDEN], tag))this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    }\n  });\n  return sym;\n};\n\nvar isSymbol = function(it){\n  return typeof it == 'symbol';\n};\n\nvar $defineProperty = function defineProperty(it, key, D){\n  if(D && has(AllSymbols, key)){\n    if(!D.enumerable){\n      if(!has(it, HIDDEN))setDesc(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if(has(it, HIDDEN) && it[HIDDEN][key])it[HIDDEN][key] = false;\n      D = _create(D, {enumerable: createDesc(0, false)});\n    } return setSymbolDesc(it, key, D);\n  } return setDesc(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P){\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P))\n    , i    = 0\n    , l = keys.length\n    , key;\n  while(l > i)$defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P){\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key){\n  var E = isEnum.call(this, key);\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key]\n    ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key){\n  var D = getDesc(it = toIObject(it), key);\n  if(D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key]))D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it){\n  var names  = getNames(toIObject(it))\n    , result = []\n    , i      = 0\n    , key;\n  while(names.length > i)if(!has(AllSymbols, key = names[i++]) && key != HIDDEN)result.push(key);\n  return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it){\n  var names  = getNames(toIObject(it))\n    , result = []\n    , i      = 0\n    , key;\n  while(names.length > i)if(has(AllSymbols, key = names[i++]))result.push(AllSymbols[key]);\n  return result;\n};\nvar $stringify = function stringify(it){\n  if(it === undefined || isSymbol(it))return; // IE8 returns string on undefined\n  var args = [it]\n    , i    = 1\n    , $$   = arguments\n    , replacer, $replacer;\n  while($$.length > i)args.push($$[i++]);\n  replacer = args[1];\n  if(typeof replacer == 'function')$replacer = replacer;\n  if($replacer || !isArray(replacer))replacer = function(key, value){\n    if($replacer)value = $replacer.call(this, key, value);\n    if(!isSymbol(value))return value;\n  };\n  args[1] = replacer;\n  return _stringify.apply($JSON, args);\n};\nvar buggyJSON = $fails(function(){\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({a: S}) != '{}' || _stringify(Object(S)) != '{}';\n});\n\n// 19.4.1.1 Symbol([description])\nif(!useNative){\n  $Symbol = function Symbol(){\n    if(isSymbol(this))throw TypeError('Symbol is not a constructor');\n    return wrap(uid(arguments.length > 0 ? arguments[0] : undefined));\n  };\n  redefine($Symbol.prototype, 'toString', function toString(){\n    return this._k;\n  });\n\n  isSymbol = function(it){\n    return it instanceof $Symbol;\n  };\n\n  $.create     = $create;\n  $.isEnum     = $propertyIsEnumerable;\n  $.getDesc    = $getOwnPropertyDescriptor;\n  $.setDesc    = $defineProperty;\n  $.setDescs   = $defineProperties;\n  $.getNames   = $names.get = $getOwnPropertyNames;\n  $.getSymbols = $getOwnPropertySymbols;\n\n  if(DESCRIPTORS && !require('./$.library')){\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n}\n\nvar symbolStatics = {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function(key){\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(key){\n    return keyOf(SymbolRegistry, key);\n  },\n  useSetter: function(){ setter = true; },\n  useSimple: function(){ setter = false; }\n};\n// 19.4.2.2 Symbol.hasInstance\n// 19.4.2.3 Symbol.isConcatSpreadable\n// 19.4.2.4 Symbol.iterator\n// 19.4.2.6 Symbol.match\n// 19.4.2.8 Symbol.replace\n// 19.4.2.9 Symbol.search\n// 19.4.2.10 Symbol.species\n// 19.4.2.11 Symbol.split\n// 19.4.2.12 Symbol.toPrimitive\n// 19.4.2.13 Symbol.toStringTag\n// 19.4.2.14 Symbol.unscopables\n$.each.call((\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,' +\n  'species,split,toPrimitive,toStringTag,unscopables'\n).split(','), function(it){\n  var sym = wks(it);\n  symbolStatics[it] = useNative ? sym : wrap(sym);\n});\n\nsetter = true;\n\n$export($export.G + $export.W, {Symbol: $Symbol});\n\n$export($export.S, 'Symbol', symbolStatics);\n\n$export($export.S + $export.F * !useNative, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!useNative || buggyJSON), 'JSON', {stringify: $stringify});\n\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/es6.symbol.js\n **/","\"use strict\";\n\nvar _Symbol = require(\"babel-runtime/core-js/symbol\")[\"default\"];\n\nexports[\"default\"] = function (obj) {\n  return obj && obj.constructor === _Symbol ? \"symbol\" : typeof obj;\n};\n\nexports.__esModule = true;\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-runtime/helpers/typeof.js\n **/","var $Object = Object;\nmodule.exports = {\n  create:     $Object.create,\n  getProto:   $Object.getPrototypeOf,\n  isEnum:     {}.propertyIsEnumerable,\n  getDesc:    $Object.getOwnPropertyDescriptor,\n  setDesc:    $Object.defineProperty,\n  setDescs:   $Object.defineProperties,\n  getKeys:    $Object.keys,\n  getNames:   $Object.getOwnPropertyNames,\n  getSymbols: $Object.getOwnPropertySymbols,\n  each:       [].forEach\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/$.js\n **/","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function(it, key){\n  return hasOwnProperty.call(it, key);\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/$.has.js\n **/","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./$.fails')(function(){\n  return Object.defineProperty({}, 'a', {get: function(){ return 7; }}).a != 7;\n});\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/$.descriptors.js\n **/","module.exports = require('./$.hide');\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/$.redefine.js\n **/","var $          = require('./$')\n  , createDesc = require('./$.property-desc');\nmodule.exports = require('./$.descriptors') ? function(object, key, value){\n  return $.setDesc(object, key, createDesc(1, value));\n} : function(object, key, value){\n  object[key] = value;\n  return object;\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/$.hide.js\n **/","module.exports = function(bitmap, value){\n  return {\n    enumerable  : !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable    : !(bitmap & 4),\n    value       : value\n  };\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/$.property-desc.js\n **/","var global = require('./$.global')\n  , SHARED = '__core-js_shared__'\n  , store  = global[SHARED] || (global[SHARED] = {});\nmodule.exports = function(key){\n  return store[key] || (store[key] = {});\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/$.shared.js\n **/","var def = require('./$').setDesc\n  , has = require('./$.has')\n  , TAG = require('./$.wks')('toStringTag');\n\nmodule.exports = function(it, tag, stat){\n  if(it && !has(it = stat ? it : it.prototype, TAG))def(it, TAG, {configurable: true, value: tag});\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/$.set-to-string-tag.js\n **/","var store  = require('./$.shared')('wks')\n  , uid    = require('./$.uid')\n  , Symbol = require('./$.global').Symbol;\nmodule.exports = function(name){\n  return store[name] || (store[name] =\n    Symbol && Symbol[name] || (Symbol || uid)('Symbol.' + name));\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/$.wks.js\n **/","var id = 0\n  , px = Math.random();\nmodule.exports = function(key){\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/$.uid.js\n **/","var $         = require('./$')\n  , toIObject = require('./$.to-iobject');\nmodule.exports = function(object, el){\n  var O      = toIObject(object)\n    , keys   = $.getKeys(O)\n    , length = keys.length\n    , index  = 0\n    , key;\n  while(length > index)if(O[key = keys[index++]] === el)return key;\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/$.keyof.js\n **/","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./$.iobject')\n  , defined = require('./$.defined');\nmodule.exports = function(it){\n  return IObject(defined(it));\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/$.to-iobject.js\n **/","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./$.cof');\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function(it){\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/$.iobject.js\n **/","var toString = {}.toString;\n\nmodule.exports = function(it){\n  return toString.call(it).slice(8, -1);\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/$.cof.js\n **/","// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = require('./$.to-iobject')\n  , getNames  = require('./$').getNames\n  , toString  = {}.toString;\n\nvar windowNames = typeof window == 'object' && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function(it){\n  try {\n    return getNames(it);\n  } catch(e){\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.get = function getOwnPropertyNames(it){\n  if(windowNames && toString.call(it) == '[object Window]')return getWindowNames(it);\n  return getNames(toIObject(it));\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/$.get-names.js\n **/","module.exports = { \"default\": require(\"core-js/library/fn/object/get-own-property-names\"), __esModule: true };\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-runtime/core-js/object/get-own-property-names.js\n **/","var $ = require('../../modules/$');\nrequire('../../modules/es6.object.get-own-property-names');\nmodule.exports = function getOwnPropertyNames(it){\n  return $.getNames(it);\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/fn/object/get-own-property-names.js\n **/","// 19.1.2.7 Object.getOwnPropertyNames(O)\nrequire('./$.object-sap')('getOwnPropertyNames', function(){\n  return require('./$.get-names').get;\n});\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/es6.object.get-own-property-names.js\n **/","// all enumerable object keys, includes symbols\nvar $ = require('./$');\nmodule.exports = function(it){\n  var keys       = $.getKeys(it)\n    , getSymbols = $.getSymbols;\n  if(getSymbols){\n    var symbols = getSymbols(it)\n      , isEnum  = $.isEnum\n      , i       = 0\n      , key;\n    while(symbols.length > i)if(isEnum.call(it, key = symbols[i++]))keys.push(key);\n  }\n  return keys;\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/$.enum-keys.js\n **/","// 7.2.2 IsArray(argument)\nvar cof = require('./$.cof');\nmodule.exports = Array.isArray || function(arg){\n  return cof(arg) == 'Array';\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/$.is-array.js\n **/","var isObject = require('./$.is-object');\nmodule.exports = function(it){\n  if(!isObject(it))throw TypeError(it + ' is not an object!');\n  return it;\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/$.an-object.js\n **/","module.exports = function(it){\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/$.is-object.js\n **/","module.exports = true;\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/modules/$.library.js\n **/","module.exports = { \"default\": require(\"core-js/library/fn/object/create\"), __esModule: true };\n\n\n/** WEBPACK FOOTER **\n ** ./~/babel-runtime/core-js/object/create.js\n **/","var $ = require('../../modules/$');\nmodule.exports = function create(P, D){\n  return $.create(P, D);\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/core-js/library/fn/object/create.js\n **/","module.exports = \"<div class=sf-crop-modal><div class=sf-crop-modal-body><div class=sf-crop-container><div class=sf-crop-image-original></div><div class=sf-crop-wrapper><div class=sf-crop-dimmers-container><div class=dimmers><div class=\\\"dimmer dimmer-n\\\"></div><div class=\\\"dimmer dimmer-e\\\"></div><div class=\\\"dimmer dimmer-s\\\"></div><div class=\\\"dimmer dimmer-w\\\"></div></div></div><div class=sf-crop-elements><div class=\\\"handler handler-n\\\"></div><div class=\\\"handler handler-ne\\\"></div><div class=\\\"handler handler-e\\\"></div><div class=\\\"handler handler-se\\\"></div><div class=\\\"handler handler-s\\\"></div><div class=\\\"handler handler-sw\\\"></div><div class=\\\"handler handler-w\\\"></div><div class=\\\"handler handler-nw\\\"></div></div></div></div></div><div class=sf-crop-modal-header><div class=sf-crop-cropper-info><div class=sf-crop-ratio></div><div class=sf-crop-orig-size></div><div class=sf-crop-cropped-size></div></div></div><div class=sf-crop-modal-footer><button class=\\\"sf-crop-close btn\\\"></button> <button type=button class=\\\"btn sf-crop-save\\\"></button></div></div><div class=sf-crop-backdrop></div>\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/html-loader!./src/template.html\n ** module id = 49\n ** module chunks = 0 1\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../node_modules/css-loader/index.js?minimize!./../node_modules/less-loader/index.js!./crop.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../node_modules/css-loader/index.js?minimize!./../node_modules/less-loader/index.js!./crop.less\", function() {\n\t\t\tvar newContent = require(\"!!./../node_modules/css-loader/index.js?minimize!./../node_modules/less-loader/index.js!./crop.less\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/style-loader!./~/css-loader?minimize!./~/less-loader!./src/crop.less\n ** module id = 50\n ** module chunks = 0 1\n **/","exports = module.exports = require(\"./../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".sf-crop-modal{position:fixed;left:50%;top:50%;transform:translate(-50%,-50%);padding:20px;background-color:#fff;overflow:auto;z-index:1000;width:auto;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:0;transition:opacity .3s ease;box-shadow:0 16px 28px 0 rgba(0,0,0,.22),0 25px 55px 0 rgba(0,0,0,.21)}.sf-crop-modal.touch-device .handler:before{content:'';width:30px;height:30px;display:block;left:50%;top:50%;position:relative;transform:translate(-50%,-50%)}.sf-crop-modal.visible{opacity:1;z-index:1001}.sf-crop-modal .sf-crop-modal-footer{padding-top:20px;text-align:right}.sf-crop-modal .btn{display:inline-block;margin:0 0 0 10px;border-width:0;border-radius:2px;box-shadow:0 0 1px rgba(0,0,0,.2);color:#4a4a4a;background:#fff;outline:none}.sf-crop-modal .btn:focus,.sf-crop-modal .btn:hover{background-color:#efefef}.sf-crop-modal .btn.sf-crop-save{box-shadow:0 0 1px rgba(0,0,0,.6)}.sf-crop-modal .btn.sf-crop-close{color:#8a8a8a}.sf-crop-modal .sf-crop-container{position:relative}.sf-crop-modal .sf-crop-container canvas{display:block}.sf-crop-modal .sf-crop-wrapper{position:absolute;top:0;bottom:0;left:0;right:0}.sf-crop-modal .sf-crop-wrapper .sf-crop-elements{position:absolute;border:1px dashed #000;top:0;width:100%;height:100%;max-width:100%;max-height:100%;cursor:move}.sf-crop-modal .sf-crop-wrapper .sf-crop-dimmers-container{position:absolute;overflow:hidden;top:0;bottom:0;left:0;right:0}.sf-crop-modal .sf-crop-wrapper .dimmers{position:absolute}.sf-crop-modal .sf-crop-wrapper .dimmer{position:absolute;width:1000px;height:1000px;background-color:#000;opacity:.3}.sf-crop-modal .sf-crop-wrapper .dimmer.dimmer-n{bottom:100%;left:0}.sf-crop-modal .sf-crop-wrapper .dimmer.dimmer-e{left:100%;top:0}.sf-crop-modal .sf-crop-wrapper .dimmer.dimmer-s{top:100%;right:0}.sf-crop-modal .sf-crop-wrapper .dimmer.dimmer-w{bottom:0;right:100%}.sf-crop-modal .sf-crop-wrapper .handler{position:absolute;border:1px solid #333;width:10px;height:10px;background:#fff;opacity:.5}.sf-crop-modal .sf-crop-wrapper .handler.handler-n{top:0;left:50%;margin-top:-6px;margin-left:-6px;cursor:n-resize}.sf-crop-modal .sf-crop-wrapper .handler.handler-ne{top:0;right:0;margin-top:-6px;margin-right:-6px;cursor:ne-resize}.sf-crop-modal .sf-crop-wrapper .handler.handler-e{top:50%;right:0;margin-top:-6px;margin-right:-6px;cursor:e-resize}.sf-crop-modal .sf-crop-wrapper .handler.handler-se{bottom:0;right:0;margin-bottom:-6px;margin-right:-6px;cursor:se-resize}.sf-crop-modal .sf-crop-wrapper .handler.handler-s{bottom:0;left:50%;margin-bottom:-6px;margin-left:-6px;cursor:s-resize}.sf-crop-modal .sf-crop-wrapper .handler.handler-sw{bottom:0;left:0;margin-bottom:-6px;margin-left:-6px;cursor:sw-resize}.sf-crop-modal .sf-crop-wrapper .handler.handler-w{top:50%;left:0;margin-top:-6px;margin-left:-6px;cursor:w-resize}.sf-crop-modal .sf-crop-wrapper .handler.handler-nw{top:0;left:0;margin-top:-6px;margin-left:-6px;cursor:nw-resize}.sf-crop-modal .sf-crop-modal-header .sf-crop-cropper-info{font-size:12px}.sf-crop-modal .sf-crop-modal-header .sf-crop-close{position:absolute;background:transparent;padding:0;top:10px;right:15px;font-size:24px;border:none;opacity:.2;cursor:pointer}.sf-crop-modal .sf-crop-modal-header .sf-crop-close:hover{opacity:1}.sf-crop-backdrop{top:0;left:0;position:fixed;background-color:#000;width:100vw;height:100vh;opacity:0;transition:opacity .3s ease}.sf-crop-backdrop.visible{opacity:.4;z-index:1000}\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader?minimize!./~/less-loader!./src/crop.less\n ** module id = 51\n ** module chunks = 0 1\n **/","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\n// css base code, injected by the css-loader\r\nmodule.exports = function() {\r\n\tvar list = [];\r\n\r\n\t// return the list of modules as css string\r\n\tlist.toString = function toString() {\r\n\t\tvar result = [];\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar item = this[i];\r\n\t\t\tif(item[2]) {\r\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t} else {\r\n\t\t\t\tresult.push(item[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result.join(\"\");\r\n\t};\r\n\r\n\t// import a list of modules into the list\r\n\tlist.i = function(modules, mediaQuery) {\r\n\t\tif(typeof modules === \"string\")\r\n\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\tvar alreadyImportedModules = {};\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar id = this[i][0];\r\n\t\t\tif(typeof id === \"number\")\r\n\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t}\r\n\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\tvar item = modules[i];\r\n\t\t\t// skip already imported module\r\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t}\r\n\t\t\t\tlist.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\treturn list;\r\n};\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/css-loader/lib/css-base.js\n **/","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nvar stylesInDom = {},\r\n\tmemoize = function(fn) {\r\n\t\tvar memo;\r\n\t\treturn function () {\r\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\r\n\t\t\treturn memo;\r\n\t\t};\r\n\t},\r\n\tisOldIE = memoize(function() {\r\n\t\treturn /msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase());\r\n\t}),\r\n\tgetHeadElement = memoize(function () {\r\n\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\r\n\t}),\r\n\tsingletonElement = null,\r\n\tsingletonCounter = 0,\r\n\tstyleElementsInsertedAtTop = [];\r\n\r\nmodule.exports = function(list, options) {\r\n\tif(typeof DEBUG !== \"undefined\" && DEBUG) {\r\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t}\r\n\r\n\toptions = options || {};\r\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\r\n\t// tags it will allow on a page\r\n\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\r\n\r\n\t// By default, add <style> tags to the bottom of <head>.\r\n\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\r\n\r\n\tvar styles = listToStyles(list);\r\n\taddStylesToDom(styles, options);\r\n\r\n\treturn function update(newList) {\r\n\t\tvar mayRemove = [];\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\tdomStyle.refs--;\r\n\t\t\tmayRemove.push(domStyle);\r\n\t\t}\r\n\t\tif(newList) {\r\n\t\t\tvar newStyles = listToStyles(newList);\r\n\t\t\taddStylesToDom(newStyles, options);\r\n\t\t}\r\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\r\n\t\t\tvar domStyle = mayRemove[i];\r\n\t\t\tif(domStyle.refs === 0) {\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\r\n\t\t\t\t\tdomStyle.parts[j]();\r\n\t\t\t\tdelete stylesInDom[domStyle.id];\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction addStylesToDom(styles, options) {\r\n\tfor(var i = 0; i < styles.length; i++) {\r\n\t\tvar item = styles[i];\r\n\t\tvar domStyle = stylesInDom[item.id];\r\n\t\tif(domStyle) {\r\n\t\t\tdomStyle.refs++;\r\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t}\r\n\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvar parts = [];\r\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction listToStyles(list) {\r\n\tvar styles = [];\r\n\tvar newStyles = {};\r\n\tfor(var i = 0; i < list.length; i++) {\r\n\t\tvar item = list[i];\r\n\t\tvar id = item[0];\r\n\t\tvar css = item[1];\r\n\t\tvar media = item[2];\r\n\t\tvar sourceMap = item[3];\r\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\r\n\t\tif(!newStyles[id])\r\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\telse\r\n\t\t\tnewStyles[id].parts.push(part);\r\n\t}\r\n\treturn styles;\r\n}\r\n\r\nfunction insertStyleElement(options, styleElement) {\r\n\tvar head = getHeadElement();\r\n\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\r\n\tif (options.insertAt === \"top\") {\r\n\t\tif(!lastStyleElementInsertedAtTop) {\r\n\t\t\thead.insertBefore(styleElement, head.firstChild);\r\n\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\r\n\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\r\n\t\t} else {\r\n\t\t\thead.appendChild(styleElement);\r\n\t\t}\r\n\t\tstyleElementsInsertedAtTop.push(styleElement);\r\n\t} else if (options.insertAt === \"bottom\") {\r\n\t\thead.appendChild(styleElement);\r\n\t} else {\r\n\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\r\n\t}\r\n}\r\n\r\nfunction removeStyleElement(styleElement) {\r\n\tstyleElement.parentNode.removeChild(styleElement);\r\n\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\r\n\tif(idx >= 0) {\r\n\t\tstyleElementsInsertedAtTop.splice(idx, 1);\r\n\t}\r\n}\r\n\r\nfunction createStyleElement(options) {\r\n\tvar styleElement = document.createElement(\"style\");\r\n\tstyleElement.type = \"text/css\";\r\n\tinsertStyleElement(options, styleElement);\r\n\treturn styleElement;\r\n}\r\n\r\nfunction createLinkElement(options) {\r\n\tvar linkElement = document.createElement(\"link\");\r\n\tlinkElement.rel = \"stylesheet\";\r\n\tinsertStyleElement(options, linkElement);\r\n\treturn linkElement;\r\n}\r\n\r\nfunction addStyle(obj, options) {\r\n\tvar styleElement, update, remove;\r\n\r\n\tif (options.singleton) {\r\n\t\tvar styleIndex = singletonCounter++;\r\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\r\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\r\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\r\n\t} else if(obj.sourceMap &&\r\n\t\ttypeof URL === \"function\" &&\r\n\t\ttypeof URL.createObjectURL === \"function\" &&\r\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\r\n\t\ttypeof Blob === \"function\" &&\r\n\t\ttypeof btoa === \"function\") {\r\n\t\tstyleElement = createLinkElement(options);\r\n\t\tupdate = updateLink.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t\tif(styleElement.href)\r\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\r\n\t\t};\r\n\t} else {\r\n\t\tstyleElement = createStyleElement(options);\r\n\t\tupdate = applyToTag.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t};\r\n\t}\r\n\r\n\tupdate(obj);\r\n\r\n\treturn function updateStyle(newObj) {\r\n\t\tif(newObj) {\r\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\r\n\t\t\t\treturn;\r\n\t\t\tupdate(obj = newObj);\r\n\t\t} else {\r\n\t\t\tremove();\r\n\t\t}\r\n\t};\r\n}\r\n\r\nvar replaceText = (function () {\r\n\tvar textStore = [];\r\n\r\n\treturn function (index, replacement) {\r\n\t\ttextStore[index] = replacement;\r\n\t\treturn textStore.filter(Boolean).join('\\n');\r\n\t};\r\n})();\r\n\r\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\r\n\tvar css = remove ? \"\" : obj.css;\r\n\r\n\tif (styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\r\n\t} else {\r\n\t\tvar cssNode = document.createTextNode(css);\r\n\t\tvar childNodes = styleElement.childNodes;\r\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\r\n\t\tif (childNodes.length) {\r\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\r\n\t\t} else {\r\n\t\t\tstyleElement.appendChild(cssNode);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction applyToTag(styleElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\tvar sourceMap = obj.sourceMap;\r\n\r\n\tif(media) {\r\n\t\tstyleElement.setAttribute(\"media\", media)\r\n\t}\r\n\r\n\tif(styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = css;\r\n\t} else {\r\n\t\twhile(styleElement.firstChild) {\r\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\r\n\t\t}\r\n\t\tstyleElement.appendChild(document.createTextNode(css));\r\n\t}\r\n}\r\n\r\nfunction updateLink(linkElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\tvar sourceMap = obj.sourceMap;\r\n\r\n\tif(sourceMap) {\r\n\t\t// http://stackoverflow.com/a/26603875\r\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\r\n\t}\r\n\r\n\tvar blob = new Blob([css], { type: \"text/css\" });\r\n\r\n\tvar oldSrc = linkElement.href;\r\n\r\n\tlinkElement.href = URL.createObjectURL(blob);\r\n\r\n\tif(oldSrc)\r\n\t\tURL.revokeObjectURL(oldSrc);\r\n}\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/style-loader/addStyles.js\n ** module id = 53\n ** module chunks = 0 1\n **/"],"sourceRoot":""}